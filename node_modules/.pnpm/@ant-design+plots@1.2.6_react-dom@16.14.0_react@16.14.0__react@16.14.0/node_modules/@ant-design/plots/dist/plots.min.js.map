{"version":3,"file":"plots.min.js","mappings":"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","sources":["webpack://Plots/webpack/universalModuleDefinition","webpack://Plots/../src/index.ts","webpack://Plots/../../src/abstract/base.ts","webpack://Plots/../../node_modules/.pnpm/d3-timer@1.0.10/node_modules/d3-timer/src/timer.js","webpack://Plots/../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/define.js","webpack://Plots/../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/color.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basis.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/constant.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/color.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/rgb.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/numberArray.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/array.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/date.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/number.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/object.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basisClosed.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/string.js","webpack://Plots/../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/value.js","webpack://Plots/../../src/animate/timeline.ts","webpack://Plots/../../src/util/color.ts","webpack://Plots/../../src/event/event-contoller.ts","webpack://Plots/../../src/abstract/canvas.ts","webpack://Plots/../../src/abstract/container.ts","webpack://Plots/../../src/abstract/element.ts","webpack://Plots/../../src/abstract/group.ts","webpack://Plots/../../src/abstract/shape.ts","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/linear.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/quad.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/cubic.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/poly.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/sin.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/math.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/exp.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/circle.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/bounce.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/back.js","webpack://Plots/../../node_modules/.pnpm/d3-ease@1.0.7/node_modules/d3-ease/src/elastic.js","webpack://Plots/../../src/animate/register.ts","webpack://Plots/../../src/bbox/register.ts","webpack://Plots/../../src/bbox/rect.ts","webpack://Plots/../../src/bbox/circle.ts","webpack://Plots/../../src/bbox/util.ts","webpack://Plots/../../src/bbox/path.ts","webpack://Plots/../../src/bbox/index.ts","webpack://Plots/../../src/bbox/polyline.ts","webpack://Plots/../../src/bbox/polygon.ts","webpack://Plots/../../src/bbox/text.ts","webpack://Plots/../../src/bbox/line.ts","webpack://Plots/../../src/bbox/ellipse.ts","webpack://Plots/../../src/event/graph-event.ts","webpack://Plots/../../src/util/matrix.ts","webpack://Plots/../../src/util/offscreen.ts","webpack://Plots/../../src/util/path.ts","webpack://Plots/../../src/util/text.ts","webpack://Plots/../../src/util/util.ts","webpack://Plots/../src/util.ts","webpack://Plots/../src/line.ts","webpack://Plots/../src/bezier.ts","webpack://Plots/../src/quadratic.ts","webpack://Plots/../src/cubic.ts","webpack://Plots/../src/ellipse.ts","webpack://Plots/../src/arc.ts","webpack://Plots/../src/segments.ts","webpack://Plots/../src/polyline.ts","webpack://Plots/../src/ext.ts","webpack://Plots/../src/parse-path.ts","webpack://Plots/../src/catmull-rom-2-bezier.ts","webpack://Plots/../src/parse-path-string.ts","webpack://Plots/../src/path-2-absolute.ts","webpack://Plots/../src/get-arc-params.ts","webpack://Plots/../src/path-2-segments.ts","webpack://Plots/../../src/process/arc-2-cubic.ts","webpack://Plots/../src/point-in-polygon.ts","webpack://Plots/../src/get-line-intersect.ts","webpack://Plots/../src/is-polygons-intersect.ts","webpack://Plots/../src/is-array-like.ts","webpack://Plots/../src/contains.ts","webpack://Plots/../src/filter.ts","webpack://Plots/../src/difference.ts","webpack://Plots/../src/is-type.ts","webpack://Plots/../src/is-function.ts","webpack://Plots/../src/is-nil.ts","webpack://Plots/../src/is-array.ts","webpack://Plots/../src/is-object.ts","webpack://Plots/../src/each.ts","webpack://Plots/../src/keys.ts","webpack://Plots/../src/is-match.ts","webpack://Plots/../src/is-object-like.ts","webpack://Plots/../src/is-plain-object.ts","webpack://Plots/../src/find.ts","webpack://Plots/../src/find-index.ts","webpack://Plots/../src/first-value.ts","webpack://Plots/../src/flatten.ts","webpack://Plots/../src/max.ts","webpack://Plots/../src/min.ts","webpack://Plots/../src/get-range.ts","webpack://Plots/../src/pull.ts","webpack://Plots/../src/pull-at.ts","webpack://Plots/../src/reduce.ts","webpack://Plots/../src/remove.ts","webpack://Plots/../src/is-string.ts","webpack://Plots/../src/sort-by.ts","webpack://Plots/../src/uniq.ts","webpack://Plots/../src/values-of-key.ts","webpack://Plots/../src/head.ts","webpack://Plots/../src/last.ts","webpack://Plots/../src/every.ts","webpack://Plots/../src/some.ts","webpack://Plots/../src/group-by.ts","webpack://Plots/../src/group-to-map.ts","webpack://Plots/../src/group.ts","webpack://Plots/../src/clamp.ts","webpack://Plots/../src/fixed-base.ts","webpack://Plots/../src/is-number.ts","webpack://Plots/../src/is-integer.ts","webpack://Plots/../src/is-number-equal.ts","webpack://Plots/../src/is-positive.ts","webpack://Plots/../src/max-by.ts","webpack://Plots/../src/min-by.ts","webpack://Plots/../src/mod.ts","webpack://Plots/../src/to-degree.ts","webpack://Plots/../src/to-radian.ts","webpack://Plots/../src/for-in.ts","webpack://Plots/../src/has-key.ts","webpack://Plots/../src/has.ts","webpack://Plots/../src/values.ts","webpack://Plots/../src/to-string.ts","webpack://Plots/../src/lower-case.ts","webpack://Plots/../src/substitute.ts","webpack://Plots/../src/upper-first.ts","webpack://Plots/../src/get-type.ts","webpack://Plots/../src/is-boolean.ts","webpack://Plots/../src/is-date.ts","webpack://Plots/../src/is-null.ts","webpack://Plots/../src/is-prototype.ts","webpack://Plots/../src/is-undefined.ts","webpack://Plots/../src/is-element.ts","webpack://Plots/../src/request-animation-frame.ts","webpack://Plots/../src/clear-animation-frame.ts","webpack://Plots/../src/clone.ts","webpack://Plots/../src/debounce.ts","webpack://Plots/../src/memoize.ts","webpack://Plots/../src/deep-mix.ts","webpack://Plots/../src/index-of.ts","webpack://Plots/../src/is-empty.ts","webpack://Plots/../src/is-equal.ts","webpack://Plots/../src/map.ts","webpack://Plots/../src/map-values.ts","webpack://Plots/../src/mix.ts","webpack://Plots/../src/get.ts","webpack://Plots/../src/set.ts","webpack://Plots/../src/pick.ts","webpack://Plots/../src/omit.ts","webpack://Plots/../src/throttle.ts","webpack://Plots/../src/to-array.ts","webpack://Plots/../src/unique-id.ts","webpack://Plots/../src/noop.ts","webpack://Plots/../src/size.ts","webpack://Plots/../src/measure-text-width.ts","webpack://Plots/../src/get-ellipsis-text.ts","webpack://Plots/../src/cache.ts","webpack://Plots/../../node_modules/.pnpm/detect-browser@5.3.0/node_modules/detect-browser/es/index.js","webpack://Plots/../../node_modules/.pnpm/fmin@0.0.2/node_modules/fmin/build/fmin.js","webpack://Plots/../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/common.js","webpack://Plots/../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/mat3.js","webpack://Plots/../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec2.js","webpack://Plots/../../node_modules/.pnpm/pdfast@0.2.0/node_modules/pdfast/src/helper.js","webpack://Plots/../../node_modules/.pnpm/pdfast@0.2.0/node_modules/pdfast/src/index.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.2/node_modules/size-sensor/lib/constant.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.2/node_modules/size-sensor/lib/debounce.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.2/node_modules/size-sensor/lib/id.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.2/node_modules/size-sensor/lib/index.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.2/node_modules/size-sensor/lib/sensorPool.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.2/node_modules/size-sensor/lib/sensors/index.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.2/node_modules/size-sensor/lib/sensors/object.js","webpack://Plots/../../node_modules/.pnpm/size-sensor@1.0.2/node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack://Plots/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://Plots/external umd {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack://Plots/../../node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs","webpack://Plots/webpack/bootstrap","webpack://Plots/webpack/runtime/compat get default export","webpack://Plots/webpack/runtime/define property getters","webpack://Plots/webpack/runtime/hasOwnProperty shorthand","webpack://Plots/webpack/runtime/make namespace object","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://Plots/../src/constant.ts","webpack://Plots/../src/create-dom.ts","webpack://Plots/../../src/engine/index.ts","webpack://Plots/../src/modify-css.ts","webpack://Plots/../../src/util/dom.ts","webpack://Plots/../src/base.ts","webpack://Plots/../../src/adjusts/adjust.ts","webpack://Plots/../src/factory.ts","webpack://Plots/../../src/adjusts/dodge.ts","webpack://Plots/../../src/adjusts/jitter.ts","webpack://Plots/../../src/adjusts/stack.ts","webpack://Plots/../../src/adjusts/symmetric.ts","webpack://Plots/../../src/attributes/base.ts","webpack://Plots/../../src/attributes/color.ts","webpack://Plots/../../src/attributes/opacity.ts","webpack://Plots/../../src/attributes/position.ts","webpack://Plots/../../src/attributes/shape.ts","webpack://Plots/../../src/attributes/size.ts","webpack://Plots/../../src/tick-method/register.ts","webpack://Plots/../../src/category/base.ts","webpack://Plots/../src/fecha.ts","webpack://Plots/../../src/util/time.ts","webpack://Plots/../../src/category/time.ts","webpack://Plots/../../src/continuous/base.ts","webpack://Plots/../../src/continuous/linear.ts","webpack://Plots/../../src/util/math.ts","webpack://Plots/../../src/continuous/log.ts","webpack://Plots/../../src/continuous/pow.ts","webpack://Plots/../../src/continuous/time.ts","webpack://Plots/../../src/continuous/quantize.ts","webpack://Plots/../../src/continuous/quantile.ts","webpack://Plots/../../src/identity/index.ts","webpack://Plots/../../src/tick-method/cat.ts","webpack://Plots/../../src/util/d3-linear.ts","webpack://Plots/../../src/util/interval.ts","webpack://Plots/../../src/util/strict-limit.ts","webpack://Plots/../../src/util/pretty-number.ts","webpack://Plots/../../src/util/extended.ts","webpack://Plots/../../src/util/pretty.ts","webpack://Plots/../../src/tick-method/quantile.ts","webpack://Plots/../../src/tick-method/time-pretty.ts","webpack://Plots/../../src/tick-method/index.ts","webpack://Plots/../../src/tick-method/time-cat.ts","webpack://Plots/../../src/tick-method/linear.ts","webpack://Plots/../../src/tick-method/r-prettry.ts","webpack://Plots/../../src/tick-method/time.ts","webpack://Plots/../../src/util/bisector.ts","webpack://Plots/../../src/tick-method/log.ts","webpack://Plots/../../src/tick-method/pow.ts","webpack://Plots/../../src/tick-method/d3-linear.ts","webpack://Plots/../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec3.js","webpack://Plots/../../src/coord/base.ts","webpack://Plots/../../src/coord/cartesian.ts","webpack://Plots/../../src/coord/helix.ts","webpack://Plots/../../src/coord/polar.ts","webpack://Plots/../../src/util/event.ts","webpack://Plots/../../src/abstract/component.ts","webpack://Plots/../../src/abstract/group-component.ts","webpack://Plots/../../src/util/label.ts","webpack://Plots/../../src/util/graphic.ts","webpack://Plots/../../src/util/theme.ts","webpack://Plots/../../src/annotation/line.ts","webpack://Plots/../../src/annotation/text.ts","webpack://Plots/../../src/annotation/arc.ts","webpack://Plots/../../src/annotation/region.ts","webpack://Plots/../../src/annotation/image.ts","webpack://Plots/../../src/annotation/data-marker.ts","webpack://Plots/../../src/annotation/data-region.ts","webpack://Plots/../../src/annotation/region-filter.ts","webpack://Plots/../../src/annotation/shape.ts","webpack://Plots/../src/get-style.ts","webpack://Plots/../../src/abstract/html-component.ts","webpack://Plots/../../src/annotation/html.ts","webpack://Plots/../src/get-outer-width.ts","webpack://Plots/../src/get-width.ts","webpack://Plots/../src/get-outer-height.ts","webpack://Plots/../src/get-height.ts","webpack://Plots/../../src/util/state.ts","webpack://Plots/../../src/axis/base.ts","webpack://Plots/../../../src/axis/overlap/auto-ellipsis.ts","webpack://Plots/../../../src/axis/overlap/auto-hide.ts","webpack://Plots/../../../src/axis/overlap/auto-rotate.ts","webpack://Plots/../../src/axis/line.ts","webpack://Plots/../../src/axis/circle.ts","webpack://Plots/../../src/crosshair/base.ts","webpack://Plots/../../src/crosshair/line.ts","webpack://Plots/../../src/crosshair/circle.ts","webpack://Plots/../../src/crosshair/css-const.ts","webpack://Plots/../../src/crosshair/html-theme.ts","webpack://Plots/../../src/crosshair/html.ts","webpack://Plots/../../src/grid/base.ts","webpack://Plots/../../src/grid/circle.ts","webpack://Plots/../../src/grid/line.ts","webpack://Plots/../../src/legend/base.ts","webpack://Plots/../../src/legend/category.ts","webpack://Plots/../../src/legend/continuous.ts","webpack://Plots/../../src/tooltip/css-const.ts","webpack://Plots/../../src/tooltip/html-theme.ts","webpack://Plots/../../src/tooltip/html.ts","webpack://Plots/../../src/util/align.ts","webpack://Plots/../../src/trend/constant.ts","webpack://Plots/../../src/trend/path.ts","webpack://Plots/../../src/trend/trend.ts","webpack://Plots/../../src/slider/handler.ts","webpack://Plots/../../src/slider/constant.ts","webpack://Plots/../../src/slider/slider.ts","webpack://Plots/../src/add-event-listener.ts","webpack://Plots/../../src/scrollbar/scrollbar.ts","webpack://Plots/../src/dependents.ts","webpack://Plots/../../src/util/graphics.ts","webpack://Plots/../../src/util/helper.ts","webpack://Plots/../../src/util/bbox.ts","webpack://Plots/../../src/util/coordinate.ts","webpack://Plots/../../src/util/scale.ts","webpack://Plots/../../src/util/axis.ts","webpack://Plots/../../src/facet/facet.ts","webpack://Plots/../../src/facet/index.ts","webpack://Plots/../../../src/interaction/action/base.ts","webpack://Plots/../../../src/interaction/action/callback.ts","webpack://Plots/../../../src/interaction/action/register.ts","webpack://Plots/../../../../src/geometry/shape/util/path.ts","webpack://Plots/../../../src/interaction/action/util.ts","webpack://Plots/../../src/interaction/context.ts","webpack://Plots/../../src/interaction/interaction.ts","webpack://Plots/../../src/interaction/grammar-interaction.ts","webpack://Plots/../../src/interaction/index.ts","webpack://Plots/../../../src/theme/util/create-by-style-sheet.ts","webpack://Plots/../../../src/theme/style-sheet/light.ts","webpack://Plots/../../../src/theme/util/create-theme.ts","webpack://Plots/../../src/theme/index.ts","webpack://Plots/../../src/util/tooltip.ts","webpack://Plots/../../src/util/padding.ts","webpack://Plots/../../../src/chart/controller/index.ts","webpack://Plots/../../../src/chart/controller/coordinate.ts","webpack://Plots/../../src/chart/event.ts","webpack://Plots/../../../src/chart/layout/index.ts","webpack://Plots/../../../src/chart/util/scale-pool.ts","webpack://Plots/../../../src/chart/layout/padding-cal.ts","webpack://Plots/../../../src/chart/util/sync-view-padding.ts","webpack://Plots/../../src/chart/view.ts","webpack://Plots/../../../src/chart/layout/auto.ts","webpack://Plots/../../src/chart/chart.ts","webpack://Plots/../../../src/chart/controller/base.ts","webpack://Plots/../../../src/chart/controller/tooltip.ts","webpack://Plots/../../../src/animate/animation/index.ts","webpack://Plots/../../src/animate/index.ts","webpack://Plots/../../../src/geometry/shape/constant.ts","webpack://Plots/../../../src/geometry/element/index.ts","webpack://Plots/../../../src/geometry/label/index.ts","webpack://Plots/../../../src/geometry/shape/base.ts","webpack://Plots/../../../src/geometry/util/is-model-change.ts","webpack://Plots/../../../src/geometry/util/parse-fields.ts","webpack://Plots/../../../src/geometry/util/diff.ts","webpack://Plots/../../src/geometry/base.ts","webpack://Plots/../../../src/geometry/util/group-data.ts","webpack://Plots/../../src/util/transform.ts","webpack://Plots/../../../../src/geometry/label/util/index.ts","webpack://Plots/../../src/component/update-label.ts","webpack://Plots/../../src/component/labels.ts","webpack://Plots/../../../src/geometry/label/base.ts","webpack://Plots/../../src/util/attr.ts","webpack://Plots/../../src/util/marker.ts","webpack://Plots/../../src/util/legend.ts","webpack://Plots/../../../../src/geometry/shape/util/get-path-points.ts","webpack://Plots/../../../../src/geometry/shape/util/get-style.ts","webpack://Plots/../../../../src/geometry/shape/util/split-points.ts","webpack://Plots/../../../../src/geometry/shape/line/util.ts","webpack://Plots/../../../../src/geometry/shape/line/index.ts","webpack://Plots/../src/core.ts","webpack://Plots/../../../src/theme/style-sheet/dark.ts","webpack://Plots/../../src/util/parse.ts","webpack://Plots/../../src/util/arc-params.ts","webpack://Plots/../../src/util/arrow.ts","webpack://Plots/../../src/util/draw.ts","webpack://Plots/../../src/shape/base.ts","webpack://Plots/../../src/shape/circle.ts","webpack://Plots/../../src/shape/ellipse.ts","webpack://Plots/../../src/shape/image.ts","webpack://Plots/../../../src/util/in-stroke/line.ts","webpack://Plots/../../src/shape/line.ts","webpack://Plots/../../src/shape/marker.ts","webpack://Plots/../../../src/util/in-path/point-in-path.ts","webpack://Plots/../../../src/util/in-path/polygon.ts","webpack://Plots/../../../src/util/in-stroke/arc.ts","webpack://Plots/../../src/shape/path.ts","webpack://Plots/../../../src/util/in-stroke/polyline.ts","webpack://Plots/../../src/shape/polygon.ts","webpack://Plots/../../src/shape/polyline.ts","webpack://Plots/../../src/shape/rect.ts","webpack://Plots/../../../src/util/in-stroke/rect-radius.ts","webpack://Plots/../../../src/util/in-stroke/rect.ts","webpack://Plots/../../src/shape/text.ts","webpack://Plots/../../src/util/hit.ts","webpack://Plots/../src/canvas.ts","webpack://Plots/../../src/util/svg.ts","webpack://Plots/../../src/shape/dom.ts","webpack://Plots/../../../src/shape/marker/symbols.ts","webpack://Plots/../../../src/shape/marker/index.ts","webpack://Plots/../../src/util/format.ts","webpack://Plots/../../src/defs/gradient.ts","webpack://Plots/../../src/defs/shadow.ts","webpack://Plots/../../src/defs/arrow.ts","webpack://Plots/../../src/defs/clip.ts","webpack://Plots/../../src/defs/pattern.ts","webpack://Plots/../../src/defs/index.ts","webpack://Plots/../../src/geometry/path.ts","webpack://Plots/../../../../src/geometry/shape/area/util.ts","webpack://Plots/../../../../src/geometry/shape/area/index.ts","webpack://Plots/../../src/geometry/area.ts","webpack://Plots/../../../../src/geometry/shape/edge/index.ts","webpack://Plots/../../src/geometry/edge.ts","webpack://Plots/../../src/geometry/heatmap.ts","webpack://Plots/../../../../src/geometry/shape/interval/util.ts","webpack://Plots/../../../src/geometry/util/shape-size.ts","webpack://Plots/../../../../src/geometry/shape/interval/index.ts","webpack://Plots/../../src/geometry/interval.ts","webpack://Plots/../../src/geometry/line.ts","webpack://Plots/../../../../src/geometry/shape/point/util.ts","webpack://Plots/../../../../src/geometry/shape/point/index.ts","webpack://Plots/../../src/geometry/point.ts","webpack://Plots/../../../../src/geometry/shape/polygon/index.ts","webpack://Plots/../../src/geometry/polygon.ts","webpack://Plots/../../../../src/geometry/shape/schema/index.ts","webpack://Plots/../../src/geometry/schema.ts","webpack://Plots/../../../../src/geometry/shape/violin/index.ts","webpack://Plots/../../src/geometry/violin.ts","webpack://Plots/../../../../src/geometry/shape/edge/util.ts","webpack://Plots/../../../../src/geometry/shape/area/line.ts","webpack://Plots/../../../../src/geometry/shape/area/smooth.ts","webpack://Plots/../../../../src/geometry/shape/area/smooth-line.ts","webpack://Plots/../../../../src/geometry/shape/edge/arc.ts","webpack://Plots/../../../../src/geometry/shape/edge/smooth.ts","webpack://Plots/../../../../src/geometry/shape/edge/vhv.ts","webpack://Plots/../../../../src/geometry/shape/interval/funnel.ts","webpack://Plots/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://Plots/../../../../src/geometry/shape/interval/line.ts","webpack://Plots/../../../../src/geometry/shape/interval/pyramid.ts","webpack://Plots/../../../../src/geometry/shape/interval/tick.ts","webpack://Plots/../../../../src/geometry/shape/schema/box.ts","webpack://Plots/../../../../src/geometry/shape/schema/candle.ts","webpack://Plots/../../../../src/geometry/shape/polygon/square.ts","webpack://Plots/../../../../src/geometry/shape/line/step.ts","webpack://Plots/../../../../src/geometry/shape/point/hollow.ts","webpack://Plots/../../../../src/geometry/shape/point/image.ts","webpack://Plots/../../../../src/geometry/shape/point/solid.ts","webpack://Plots/../../../../src/geometry/shape/violin/smooth.ts","webpack://Plots/../../../../src/geometry/shape/violin/hollow.ts","webpack://Plots/../../../src/geometry/label/interval.ts","webpack://Plots/../../../src/geometry/label/polar.ts","webpack://Plots/../../../src/geometry/label/pie.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/util.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/outer.ts","webpack://Plots/../../../../src/geometry/label/layout/overlap.ts","webpack://Plots/../../src/util/collision-detect.ts","webpack://Plots/../../../../src/geometry/label/util/createWorker.ts","webpack://Plots/../../src/util/context.ts","webpack://Plots/../../../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack://Plots/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://Plots/../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://Plots/../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://Plots/../../../src/animate/animation/util.ts","webpack://Plots/../../../src/animate/animation/sector-path-update.ts","webpack://Plots/../../../src/animate/animation/zoom.ts","webpack://Plots/../../src/util/facet.ts","webpack://Plots/../../src/facet/circle.ts","webpack://Plots/../../src/facet/list.ts","webpack://Plots/../../src/facet/matrix.ts","webpack://Plots/../../src/facet/mirror.ts","webpack://Plots/../../src/facet/rect.ts","webpack://Plots/../../src/facet/tree.ts","webpack://Plots/../../src/util/stat.ts","webpack://Plots/../../src/util/annotation.ts","webpack://Plots/../../../src/chart/controller/annotation.ts","webpack://Plots/../../src/util/grid.ts","webpack://Plots/../../../src/chart/controller/axis.ts","webpack://Plots/../../src/util/direction.ts","webpack://Plots/../../../src/chart/controller/legend.ts","webpack://Plots/../../../src/chart/controller/slider.ts","webpack://Plots/../../../src/chart/controller/scrollbar.ts","webpack://Plots/../../../src/interaction/action/active-region.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://Plots/../../../../src/interaction/action/element/state-base.ts","webpack://Plots/../../../../src/interaction/action/element/state.ts","webpack://Plots/../../../../src/interaction/action/element/active.ts","webpack://Plots/../../../../src/interaction/action/element/link-by-color.ts","webpack://Plots/../../../../src/interaction/action/element/range-state.ts","webpack://Plots/../../../../src/interaction/action/element/range-active.ts","webpack://Plots/../../../../src/interaction/action/element/single-state.ts","webpack://Plots/../../../../src/interaction/action/element/single-active.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-util.ts","webpack://Plots/../../../../src/interaction/action/element/highlight.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://Plots/../../../../src/interaction/action/element/range-highlight.ts","webpack://Plots/../../../../src/interaction/action/element/single-highlight.ts","webpack://Plots/../../../../src/interaction/action/element/range-selected.ts","webpack://Plots/../../../../src/interaction/action/element/selected.ts","webpack://Plots/../../../../src/interaction/action/element/single-selected.ts","webpack://Plots/../../../../src/interaction/action/component/list-state.ts","webpack://Plots/../../../../src/interaction/action/component/list-active.ts","webpack://Plots/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://Plots/../../../../src/interaction/action/component/list-highlight.ts","webpack://Plots/../../../../src/interaction/action/component/list-selected.ts","webpack://Plots/../../../../src/interaction/action/component/list-unchecked.ts","webpack://Plots/../../../../src/interaction/action/component/list-checked.ts","webpack://Plots/../../../../src/interaction/action/component/list-focus.ts","webpack://Plots/../../../../src/interaction/action/component/list-radio.ts","webpack://Plots/../../../../src/interaction/action/mask/base.ts","webpack://Plots/../../../../src/interaction/action/mask/circle.ts","webpack://Plots/../../../../src/interaction/action/mask/rect.ts","webpack://Plots/../../../../src/interaction/action/mask/dim-rect.ts","webpack://Plots/../../../../src/interaction/action/mask/path.ts","webpack://Plots/../../../../src/interaction/action/mask/smooth-path.ts","webpack://Plots/../../../../../src/interaction/action/mask/multiple/base.ts","webpack://Plots/../../../../../src/interaction/action/mask/multiple/rect.ts","webpack://Plots/../../../../../src/interaction/action/mask/multiple/dim-rect.ts","webpack://Plots/../../../../../src/interaction/action/mask/multiple/circle.ts","webpack://Plots/../../../../../src/interaction/action/mask/multiple/path.ts","webpack://Plots/../../../../../src/interaction/action/mask/multiple/smooth-path.ts","webpack://Plots/../../../src/interaction/action/cursor.ts","webpack://Plots/../../../../src/interaction/action/data/filter.ts","webpack://Plots/../../../../src/interaction/action/data/range-filter.ts","webpack://Plots/../../../../src/interaction/action/data/sibling-filter.ts","webpack://Plots/../../../../src/interaction/action/element/filter.ts","webpack://Plots/../../../../src/interaction/action/element/sibling-filter.ts","webpack://Plots/../../../../src/interaction/action/view/button.ts","webpack://Plots/../../../../src/interaction/action/view/drag.ts","webpack://Plots/../../../../src/interaction/action/view/move.ts","webpack://Plots/../../../../src/interaction/action/view/scale-transform.ts","webpack://Plots/../../../../src/interaction/action/view/scale-translate.ts","webpack://Plots/../../../../src/interaction/action/view/scale-zoom.ts","webpack://Plots/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://Plots/../../../../../src/interaction/action/component/axis/axis-description.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/distribute.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://Plots/../../../../src/geometry/label/layout/adjust-color.ts","webpack://Plots/../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://Plots/../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/spider.ts","webpack://Plots/../../../src/animate/animation/fade.ts","webpack://Plots/../../../src/animate/animation/grow-in.ts","webpack://Plots/../../../src/animate/animation/scale-in.ts","webpack://Plots/../../../src/animate/animation/wave-in.ts","webpack://Plots/../../../src/animate/animation/position-update.ts","webpack://Plots/../../../src/animate/animation/path-in.ts","webpack://Plots/../../src/utils/invariant.ts","webpack://Plots/../../src/utils/pick.ts","webpack://Plots/../../src/utils/data.ts","webpack://Plots/../../src/utils/deep-assign.ts","webpack://Plots/../../src/utils/context.ts","webpack://Plots/../../src/utils/dom.ts","webpack://Plots/../../src/utils/flow.ts","webpack://Plots/../../src/utils/geometry.ts","webpack://Plots/../../src/utils/label.ts","webpack://Plots/../../src/utils/measure-text.ts","webpack://Plots/../../src/utils/number.ts","webpack://Plots/../../src/utils/padding.ts","webpack://Plots/../../src/utils/path.ts","webpack://Plots/../../src/utils/kebab-case.ts","webpack://Plots/../../src/utils/statistic.ts","webpack://Plots/../../src/utils/template.ts","webpack://Plots/../../src/utils/view.ts","webpack://Plots/../../../src/utils/pattern/util.ts","webpack://Plots/../../../src/utils/pattern/dot.ts","webpack://Plots/../../../src/utils/pattern/line.ts","webpack://Plots/../../../src/utils/pattern/square.ts","webpack://Plots/../../../src/utils/pattern/index.ts","webpack://Plots/../../src/adaptor/pattern.ts","webpack://Plots/../../src/adaptor/common.ts","webpack://Plots/../../src/core/global.ts","webpack://Plots/../../src/core/locale.ts","webpack://Plots/../../src/utils/tooltip.ts","webpack://Plots/../../../src/adaptor/geometries/base.ts","webpack://Plots/../../../src/adaptor/geometries/area.ts","webpack://Plots/../../../src/adaptor/geometries/edge.ts","webpack://Plots/../../../src/adaptor/geometries/interval.ts","webpack://Plots/../../../src/adaptor/geometries/line.ts","webpack://Plots/../../../src/adaptor/geometries/point.ts","webpack://Plots/../../../src/adaptor/geometries/polygon.ts","webpack://Plots/../../../src/adaptor/geometries/schema.ts","webpack://Plots/../../src/core/plot.ts","webpack://Plots/../../../src/utils/transform/percent.ts","webpack://Plots/../../../src/plots/line/adaptor.ts","webpack://Plots/../../../src/plots/area/adaptor.ts","webpack://Plots/../../../src/plots/area/constants.ts","webpack://Plots/../../../src/plots/area/index.ts","webpack://Plots/../../../src/interactions/actions/reset-button.ts","webpack://Plots/../../src/interactions/brush.ts","webpack://Plots/../../src/adaptor/brush.ts","webpack://Plots/../../src/adaptor/connected-area.ts","webpack://Plots/../../src/utils/conversion.ts","webpack://Plots/../../src/adaptor/conversion-tag.ts","webpack://Plots/../../../src/plots/column/adaptor.ts","webpack://Plots/../../../src/plots/bar/adaptor.ts","webpack://Plots/../../../src/plots/bar/constants.ts","webpack://Plots/../../../src/plots/bar/index.ts","webpack://Plots/../../../src/plots/column/constants.ts","webpack://Plots/../../../src/plots/column/index.ts","webpack://Plots/../../../src/plots/funnel/constant.ts","webpack://Plots/../../../../src/plots/funnel/geometries/common.ts","webpack://Plots/../../../../src/plots/funnel/geometries/basic.ts","webpack://Plots/../../../../src/plots/funnel/geometries/compare.ts","webpack://Plots/../../../../src/plots/funnel/geometries/dynamic-height.ts","webpack://Plots/../../../../src/plots/funnel/geometries/facet.ts","webpack://Plots/../../../../src/plots/funnel/interactions/funnel-conversion-tag.ts","webpack://Plots/../../../../src/plots/funnel/interactions/index.ts","webpack://Plots/../../../src/plots/funnel/adaptor.ts","webpack://Plots/../../../src/plots/funnel/index.ts","webpack://Plots/../../../src/plots/gauge/constants.ts","webpack://Plots/../../../src/plots/gauge/utils.ts","webpack://Plots/../../../src/plots/gauge/adaptor.ts","webpack://Plots/../../../../src/plots/gauge/shapes/indicator.ts","webpack://Plots/../../../../src/plots/gauge/shapes/meter-gauge.ts","webpack://Plots/../../../src/plots/gauge/index.ts","webpack://Plots/../../../src/utils/transform/histogram.ts","webpack://Plots/../../../src/plots/histogram/constant.ts","webpack://Plots/../../../src/plots/histogram/adaptor.ts","webpack://Plots/../../../src/plots/histogram/index.ts","webpack://Plots/../../../src/plots/line/constants.ts","webpack://Plots/../../../../src/plots/line/interactions/marker-active.ts","webpack://Plots/../../../../src/plots/line/interactions/index.ts","webpack://Plots/../../../src/plots/line/index.ts","webpack://Plots/../../../src/plots/pie/contants.ts","webpack://Plots/../../src/utils/matrix.ts","webpack://Plots/../../../../../src/plots/pie/interactions/actions/legend-active.ts","webpack://Plots/../../../../../src/plots/pie/interactions/actions/statistic-active.ts","webpack://Plots/../../../../src/plots/pie/interactions/util.ts","webpack://Plots/../../../../src/plots/pie/interactions/index.ts","webpack://Plots/../../../src/plots/pie/utils.ts","webpack://Plots/../../../src/plots/pie/adaptor.ts","webpack://Plots/../../../src/plots/pie/index.ts","webpack://Plots/../../../src/plots/progress/constants.ts","webpack://Plots/../../../src/plots/progress/utils.ts","webpack://Plots/../../../src/plots/progress/adaptor.ts","webpack://Plots/../../../src/plots/progress/index.ts","webpack://Plots/../../../src/plots/ring-progress/adaptor.ts","webpack://Plots/../../../src/plots/ring-progress/constants.ts","webpack://Plots/../../../src/plots/ring-progress/index.ts","webpack://Plots/../../node_modules/.pnpm/d3-regression@1.3.10/node_modules/d3-regression/dist/d3-regression.esm.js","webpack://Plots/../../../src/plots/scatter/util.ts","webpack://Plots/../../../src/plots/scatter/adaptor.ts","webpack://Plots/../../../src/plots/scatter/constant.ts","webpack://Plots/../../src/interactions/drag-move.ts","webpack://Plots/../../../src/plots/scatter/index.ts","webpack://Plots/../../../src/plots/stock/constant.ts","webpack://Plots/../../../src/plots/stock/utils.ts","webpack://Plots/../../../src/plots/stock/adaptor.ts","webpack://Plots/../../../src/plots/stock/index.ts","webpack://Plots/../../../src/plots/tiny-line/utils.ts","webpack://Plots/../../../src/plots/tiny-line/constants.ts","webpack://Plots/../../../src/plots/tiny-area/adaptor.ts","webpack://Plots/../../../src/plots/tiny-area/constants.ts","webpack://Plots/../../../src/plots/tiny-area/index.ts","webpack://Plots/../../../src/plots/tiny-column/adaptor.ts","webpack://Plots/../../../src/plots/tiny-column/constants.ts","webpack://Plots/../../../src/plots/tiny-column/index.ts","webpack://Plots/../../../src/plots/tiny-line/adaptor.ts","webpack://Plots/../../../src/plots/tiny-line/index.ts","webpack://Plots/../../../src/plots/mix/utils.ts","webpack://Plots/../../../src/plots/mix/adaptor.ts","webpack://Plots/../../../../src/plots/mix/interactions/association.ts","webpack://Plots/../../../../src/plots/mix/interactions/utils.ts","webpack://Plots/../../../src/plots/mix/index.ts","webpack://Plots/../src/lab.ts","webpack://Plots/../../../src/plots/bidirectional-bar/constant.ts","webpack://Plots/../../../src/plots/bidirectional-bar/utils.ts","webpack://Plots/../../../src/plots/bidirectional-bar/adaptor.ts","webpack://Plots/../../../src/plots/bidirectional-bar/index.ts","webpack://Plots/../../../src/plots/box/constant.ts","webpack://Plots/../../../src/plots/box/utils.ts","webpack://Plots/../../../src/plots/box/adaptor.ts","webpack://Plots/../../../src/plots/box/index.ts","webpack://Plots/../../../src/plots/bullet/utils.ts","webpack://Plots/../../../src/plots/bullet/adaptor.ts","webpack://Plots/../../../src/plots/bullet/constant.ts","webpack://Plots/../../../src/plots/bullet/index.ts","webpack://Plots/../../../src/utils/transform/chord.ts","webpack://Plots/../../../src/plots/chord/constant.ts","webpack://Plots/../../../src/plots/chord/adaptor.ts","webpack://Plots/../../../src/plots/chord/index.ts","webpack://Plots/../../../src/plots/circle-packing/constant.ts","webpack://Plots/../../../src/interactions/actions/drill-down.ts","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/pack/enclose.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/array.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/pack/siblings.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/accessors.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/constant.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/pack/index.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://Plots/../../../src/utils/hierarchy/util.ts","webpack://Plots/../../../src/utils/hierarchy/pack.ts","webpack://Plots/../../../src/plots/circle-packing/utils.ts","webpack://Plots/../../../src/plots/circle-packing/adaptor.ts","webpack://Plots/../../src/interactions/drill-down.ts","webpack://Plots/../../../src/plots/circle-packing/index.ts","webpack://Plots/../../../src/plots/dual-axes/types.ts","webpack://Plots/../../../src/plots/dual-axes/constant.ts","webpack://Plots/../../../../src/plots/dual-axes/util/option.ts","webpack://Plots/../../../../src/plots/dual-axes/util/legend.ts","webpack://Plots/../../../../src/plots/dual-axes/util/render-sider.ts","webpack://Plots/../../../src/plots/dual-axes/adaptor.ts","webpack://Plots/../../../../src/plots/dual-axes/util/geometry.ts","webpack://Plots/../../../src/plots/dual-axes/index.ts","webpack://Plots/../../../src/plots/facet/adaptor.ts","webpack://Plots/../../../src/plots/facet/utils.ts","webpack://Plots/../../../src/plots/facet/constant.ts","webpack://Plots/../../../src/plots/facet/index.ts","webpack://Plots/../../../src/plots/heatmap/adaptor.ts","webpack://Plots/../../../src/plots/heatmap/constant.ts","webpack://Plots/../../../../src/plots/heatmap/shapes/circle.ts","webpack://Plots/../../../../src/plots/heatmap/shapes/square.ts","webpack://Plots/../../../src/plots/heatmap/index.ts","webpack://Plots/../../../src/plots/liquid/utils.ts","webpack://Plots/../../../src/plots/liquid/adaptor.ts","webpack://Plots/../../../src/plots/liquid/constants.ts","webpack://Plots/../../../../src/plots/liquid/shapes/liquid.ts","webpack://Plots/../../../src/plots/liquid/index.ts","webpack://Plots/../../../src/plots/radar/adaptor.ts","webpack://Plots/../../../../src/plots/radar/interactions/radar-tooltip-action.ts","webpack://Plots/../../../../src/plots/radar/interactions/index.ts","webpack://Plots/../../../src/plots/radar/index.ts","webpack://Plots/../../../src/plots/radial-bar/utils.ts","webpack://Plots/../../../src/plots/radial-bar/adaptor.ts","webpack://Plots/../../../src/plots/radial-bar/constant.ts","webpack://Plots/../../../src/plots/radial-bar/index.ts","webpack://Plots/../../../src/plots/rose/adaptor.ts","webpack://Plots/../../../src/plots/rose/constant.ts","webpack://Plots/../../../src/plots/rose/index.ts","webpack://Plots/../../../src/plots/sankey/constant.ts","webpack://Plots/../../../src/plots/sankey/circle.ts","webpack://Plots/../../../../src/plots/sankey/sankey/align.ts","webpack://Plots/../../../../src/plots/sankey/sankey/helper.ts","webpack://Plots/../../../../src/plots/sankey/sankey/sankey.ts","webpack://Plots/../../../src/plots/sankey/layout.ts","webpack://Plots/../../../src/plots/sankey/helper.ts","webpack://Plots/../../../src/plots/sankey/adaptor.ts","webpack://Plots/../../../../../src/plots/sankey/interactions/actions/node-drag.ts","webpack://Plots/../../../../src/plots/sankey/interactions/node-draggable.ts","webpack://Plots/../../../src/plots/sankey/index.ts","webpack://Plots/../../../src/plots/sunburst/constant.ts","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/round.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/dice.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/partition.js","webpack://Plots/../../../src/utils/hierarchy/partition.ts","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/cluster.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/stratify.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/tree.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/slice.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/index.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/binary.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://Plots/../../node_modules/.pnpm/d3-hierarchy@2.0.0/node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://Plots/../../../src/utils/hierarchy/treemap.ts","webpack://Plots/../../../src/plots/sunburst/utils.ts","webpack://Plots/../../../src/plots/sunburst/adaptor.ts","webpack://Plots/../../../src/plots/sunburst/index.ts","webpack://Plots/../../../src/plots/treemap/utils.ts","webpack://Plots/../../../src/plots/treemap/adaptor.ts","webpack://Plots/../../../src/plots/treemap/constant.ts","webpack://Plots/../../../src/plots/treemap/index.ts","webpack://Plots/../../../src/plots/venn/constant.ts","webpack://Plots/../../../../src/plots/venn/interactions/util.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/active.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/highlight.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/selected.ts","webpack://Plots/../../../../src/plots/venn/interactions/index.ts","webpack://Plots/../../../src/plots/venn/label.ts","webpack://Plots/../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js","webpack://Plots/../../../src/plots/venn/shape.ts","webpack://Plots/../../../src/utils/color/blend.ts","webpack://Plots/../../../../src/plots/venn/layout/circleintersection.ts","webpack://Plots/../../../../src/plots/venn/layout/diagram.ts","webpack://Plots/../../../../src/plots/venn/layout/layout.ts","webpack://Plots/../../../src/plots/venn/utils.ts","webpack://Plots/../../../src/plots/venn/adaptor.ts","webpack://Plots/../../../src/plots/venn/index.ts","webpack://Plots/../../../src/plots/violin/constant.ts","webpack://Plots/../../../src/utils/transform/quantile.ts","webpack://Plots/../../../src/plots/violin/utils.ts","webpack://Plots/../../../src/plots/violin/adaptor.ts","webpack://Plots/../../../src/adaptor/geometries/violin.ts","webpack://Plots/../../../src/plots/violin/index.ts","webpack://Plots/../../../src/plots/waterfall/constant.ts","webpack://Plots/../../../src/plots/waterfall/utils.ts","webpack://Plots/../../../src/plots/waterfall/adaptor.ts","webpack://Plots/../../../src/plots/waterfall/shape.ts","webpack://Plots/../../../src/plots/waterfall/index.ts","webpack://Plots/../../../src/plots/word-cloud/constant.ts","webpack://Plots/../../../src/utils/transform/word-cloud.ts","webpack://Plots/../../../src/plots/word-cloud/utils.ts","webpack://Plots/../../../src/plots/word-cloud/adaptor.ts","webpack://Plots/../../../../src/plots/word-cloud/shapes/word-cloud.ts","webpack://Plots/../../../src/plots/word-cloud/index.ts","webpack://Plots/../../src/plugin/index.ts","webpack://Plots/../../src/locales/en_US.ts","webpack://Plots/../../src/locales/zh_CN.ts","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://Plots/./src/utils/render.ts","webpack://Plots/./src/utils/createNode.ts","webpack://Plots/./src/utils/utils.ts","webpack://Plots/./src/hooks/useChart.ts","webpack://Plots/./src/utils/getChart.ts","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://Plots/./src/errorBoundary/index.tsx","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://Plots/../../node_modules/.pnpm/@babel+runtime@7.23.4/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://Plots/../src/web/Svg.tsx","webpack://Plots/../src/shared/uid.ts","webpack://Plots/../src/web/ContentLoader.tsx","webpack://Plots/../src/web/presets/FacebookStyle.tsx","webpack://Plots/./src/utils/createLoading.tsx","webpack://Plots/./src/components/area/index.tsx","webpack://Plots/./src/components/bar/index.tsx","webpack://Plots/./src/components/bullet/index.tsx","webpack://Plots/./src/components/column/index.tsx","webpack://Plots/./src/components/funnel/index.tsx","webpack://Plots/./src/components/histogram/index.tsx","webpack://Plots/./src/components/line/index.tsx","webpack://Plots/./src/components/box/index.tsx","webpack://Plots/./src/components/liquid/index.tsx","webpack://Plots/./src/components/heatmap/index.tsx","webpack://Plots/./src/components/pie/index.tsx","webpack://Plots/./src/components/gauge/index.tsx","webpack://Plots/./src/components/progress/index.tsx","webpack://Plots/./src/components/radar/index.tsx","webpack://Plots/./src/components/ring-progress/index.tsx","webpack://Plots/./src/components/rose/index.tsx","webpack://Plots/./src/components/chord/index.tsx","webpack://Plots/./src/components/scatter/index.tsx","webpack://Plots/./src/components/tiny-area/index.tsx","webpack://Plots/./src/components/tiny-column/index.tsx","webpack://Plots/./src/components/dual-axes/index.tsx","webpack://Plots/./src/components/tiny-line/index.tsx","webpack://Plots/./src/components/waterfall/index.tsx","webpack://Plots/./src/components/word-cloud/index.tsx","webpack://Plots/./src/components/sunburst/index.tsx","webpack://Plots/./src/components/stock/index.tsx","webpack://Plots/./src/components/radial-bar/index.tsx","webpack://Plots/./src/components/sankey/index.tsx","webpack://Plots/./src/components/treemap/index.tsx","webpack://Plots/./src/components/violin/index.tsx","webpack://Plots/./src/components/venn/index.tsx","webpack://Plots/./src/components/circle-packing/index.tsx","webpack://Plots/./src/components/facet/index.tsx","webpack://Plots/./src/components/mix/index.tsx","webpack://Plots/./src/components/bidirectional-bar/index.tsx","webpack://Plots/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Plots\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"Plots\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__787__, __WEBPACK_EXTERNAL_MODULE__71__) => {\nreturn ",null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n",null,null,null,null,null,null,null,null,"export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeSensorId = exports.SensorTabIndex = exports.SensorClassName = void 0;\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar id = 1;\n\n/**\n * generate unique id in application\n * @return {string}\n */\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\nvar _sensorPool = require(\"./sensorPool\");\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n\n  // listen with callback\n  sensor.bind(cb);\n\n  // return unbind function\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\nexports.bind = bind;\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\nexports.clear = clear;\nvar ver = \"1.0.2\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = exports.Sensors = void 0;\nvar _id = _interopRequireDefault(require(\"./id\"));\nvar _sensors = require(\"./sensors\");\nvar _constant = require(\"./constant\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n\n/**\n * When destroy the sensor, remove it from the pool\n */\nexports.Sensors = Sensors;\nfunction clean(sensorId) {\n  // exist, then remove from pool\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n}\n\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId);\n\n  // 1. if the sensor exists, then use it\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  }\n\n  // 2. not exist, then create one\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element, function () {\n    return clean(newId);\n  });\n  // add sensor into pool\n  Sensors[newId] = sensor;\n  return sensor;\n};\n\n/**\n *  sensor\n * @param sensor\n */\nexports.getSensor = getSensor;\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId);\n  // remove event, dom of the sensor used\n  sensor.destroy();\n  clean(sensorId);\n};\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\nvar _object = require(\"./object\");\nvar _resizeObserver = require(\"./resizeObserver\");\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\nvar _constant = require(\"../constant\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\nvar createSensor = function createSensor(element, whenDestroy) {\n  var sensor = undefined;\n  // callback\n  var listeners = [];\n\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n    var obj = document.createElement('object');\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener);\n      //  resize\n      resizeListener();\n    };\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html';\n\n    // append into dom\n    element.appendChild(obj);\n    // for ie, should set data attribute delay, or will be white screen\n    obj.data = 'about:blank';\n    return obj;\n  };\n\n  /**\n   * trigger listeners\n   */\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n\n  /**\n   * destroy all\n   */\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      }\n      // remove dom\n      sensor.parentNode.removeChild(sensor);\n      // initial variable\n      element.removeAttribute(_constant.SizeSensorId);\n      sensor = undefined;\n      listeners = [];\n      whenDestroy && whenDestroy();\n    }\n  };\n\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    }\n\n    // no listener, and sensor is exist\n    // then destroy the sensor\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\nvar _constant = require(\"../constant\");\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\nvar createSensor = function createSensor(element, whenDestroy) {\n  var sensor = undefined;\n  // callback\n  var listeners = [];\n\n  /**\n   * trigger listeners\n   */\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener);\n    // listen element\n    s.observe(element);\n\n    // trigger once\n    resizeListener();\n    return s;\n  };\n\n  /**\n   * listen with callback\n   * @param cb\n   */\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n\n  /**\n   * destroy\n   */\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n    element.removeAttribute(_constant.SizeSensorId);\n    whenDestroy && whenDestroy();\n  };\n\n  /**\n   * cancel bind\n   * @param cb\n   */\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    }\n\n    // no listener, and sensor is exist\n    // then destroy the sensor\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\nexports.createSensor = createSensor;","module.exports = __WEBPACK_EXTERNAL_MODULE__787__;","module.exports = __WEBPACK_EXTERNAL_MODULE__71__;","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n",null,"import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n","import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n    \n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  return getMaskBBoxByShape(maskShape, tolerance);\n}\n\n/**\n *  mask BBox \n */\nfunction isValidMaskBBox(maskShape, tolerance: number) {\n  const maskBBox = maskShape.getCanvasBBox();\n  const { width, height } = maskBBox;\n  return width > 0 && height > 0 && (width >= tolerance || height >= tolerance);\n}\n\n/**\n *  maskShape  mask  canvasBBox\n * @param maskShape\n * @param tolerance\n * @returns\n */\nfunction getMaskBBoxByShape(maskShape, tolerance: number) {\n  const maskBBox = maskShape.getCanvasBBox();\n  return isValidMaskBBox(maskShape, tolerance) ? maskBBox : null;\n}\n\n/**\n *  multiple  mask  canvasBBox \n * @param context \n * @param tolerance box \n * @returns\n */\nfunction getMultiMaskBBoxList(context: IInteractionContext, tolerance: number) {\n  const { maskShapes } = context.event;\n  return maskShapes.map((maskShape) => getMaskBBoxByShape(maskShape, tolerance)).filter((bBox) => !!bBox);\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  return getMaskPathByMaskShape(maskShape, tolerance);\n}\n\n/**\n *  maskShape  mask path\n * @param maskShape\n * @param tolerance box \n * @returns\n */\nfunction getMaskPathByMaskShape(maskShape, tolerance: number) {\n  return isValidMaskBBox(maskShape, tolerance) ? maskShape.attr('path') : null;\n}\n\n/**\n *  multiple  mask path \n * @param context \n * @param tolerance box \n * @returns\n */\nfunction getMultiMaskPathList(context: IInteractionContext, tolerance: number) {\n  const { maskShapes } = context.event;\n  return maskShapes.map((maskShape) => getMaskPathByMaskShape(maskShape, tolerance));\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return (target && target?.get('name') === 'mask') || isMultipleMask(context);\n}\n\n/**\n *  multiple mask \n * @param context\n * @returns\n */\nexport function isMultipleMask(context: IInteractionContext): boolean {\n  return context.event.target?.get('name') === 'multi-mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n\n  // multiple \n  if (isMultipleMask(context)) {\n    return getMultiMaskedElements(context, tolerance);\n  }\n\n  // \n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n *  multiple  mask  elements\n * @param context \n * @returns\n */\nfunction getMultiMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const { target } = context.event;\n  if (target.get('type') === 'path') {\n    const maskPathList = getMultiMaskPathList(context, tolerance);\n    if (maskPathList.length > 0) {\n      return maskPathList.flatMap((maskPath) => getElementsByPath(context.view, maskPath));\n    }\n    return null;\n  }\n  const maskBBoxList = getMultiMaskBBoxList(context, tolerance);\n  if (maskBBoxList.length > 0) {\n    return maskBBoxList.flatMap((maskBBox) => getIntersectElements(context.view, maskBBox));\n  }\n  return null;\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  // multiple \n  if (isMultipleMask(context)) {\n    return getSiblingMultiMaskedElements(context, sibling, tolerance);\n  }\n\n  // \n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getSiblingMaskElementsByBBox(maskBBox, context, sibling);\n}\n\n/**\n *  mashBBox  sibling  mask  elements\n * @param maskBBox\n * @param context \n * @param sibling sibling view\n * @returns\n */\nfunction getSiblingMaskElementsByBBox(maskBBox, context: IInteractionContext, sibling: View) {\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n *  sibling  multiple mask  elements\n * @param context \n * @param sibling sibling view\n * @param tolerance box \n * @returns\n */\nfunction getSiblingMultiMaskedElements(context: IInteractionContext, sibling: View, tolerance: number): Element[] {\n  const maskBBoxList = getMultiMaskBBoxList(context, tolerance);\n  if (maskBBoxList.length > 0) {\n    return maskBBoxList.flatMap((maskBBox) => getSiblingMaskElementsByBBox(maskBBox, context, sibling));\n  }\n  return null;\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  tooltip (tooltip crosshairs  coordinate )\n    const tooltipController = this.controllers.find((c) => c.name === 'tooltip');\n    tooltipController.update();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    const components = this.getComponents();\n    //  render\n    for (let i = 0; i < components.length; i++) {\n      const co = components[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const theme = this.view.getTheme();\n      const markerDefaultCfg = get(theme, ['components', 'tooltip', 'marker'], {});\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...(isFunction(marker) ? { ...markerDefaultCfg, ...marker(item) } : marker),\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  (fromShape.getChildren() || []).forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content, capture } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      capture,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.10';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      //    y \n      const isReflectYTransposed = (coordinate.isTransposed && coordinate.isReflect('y'));\n      const bump = isReflectYTransposed ? 0 : 1;\n      const opposite = (r: number) => isReflectYTransposed ? -r : r;\n\n      path.push(['M', p0.x, p1.y + opposite(r1)]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, bump, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, bump, p1.x, p1.y + opposite(r2)]);\n      path.push(['L', p1.x, p0.y - opposite(r3)]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, bump, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, bump, p0.x, p0.y - opposite(r4)]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup({\n        name: 'interval-group',\n      });\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        capture: false,\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        capture: false,\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { isFunction } from '@antv/util';\n\nclass MyWorker {\n  queue: any[] = [];\n  worker: Worker;\n\n  constructor(url) {\n    this.worker = new Worker(url);\n    this.worker.onmessage = (e: MessageEvent) => {\n      this.queue.shift()?.resolve(e);\n    };\n    this.worker.onmessageerror = (e: MessageEvent) => {\n      console.warn('[AntV G2] Web worker is not available');\n      this.queue.shift()?.reject(e);\n    };\n  }\n\n  post(params, onError?: () => any): Promise<MessageEvent> {\n    return new Promise((resolve, reject) => {\n      this.queue.push({ resolve, reject });\n      try {\n        this.worker.postMessage(params);\n      } catch (e) {\n        console.warn('[AntV G2] Web worker is not available');\n        isFunction(onError) && onError();\n      }\n    });\n  }\n\n  destroy() {\n    this.worker.terminate();\n  }\n}\n\nexport function createWorker(f: any) {\n  if (typeof window === 'undefined') return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new MyWorker(URL.createObjectURL(blob));\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n};\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport async function hideOverlap(\n  labelItems: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const boxes = labels.map((d, idx) => ({\n    ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n    visible: true,\n  }));\n  const memoKey = JSON.stringify(boxes);\n  const cb = (items: Item[]) => {\n    cache.set(memoKey, items);\n    each(items, ({ visible }, idx) => {\n      const labelShape = labels[idx];\n      if (visible) {\n        labelShape?.show();\n      } else {\n        labelShape?.hide();\n      }\n    });\n    return items;\n  };\n  if (cache.get(memoKey)) {\n    cb(cache.get(memoKey));\n  } else if (worker) {\n    // Do layout in worker.\n    try {\n      const params = JSON.stringify({ type: 'hide-overlap', items: boxes });\n      const res = await worker.post(params, () => cb(layout(boxes)));\n      cb(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error(e);\n      cb(layout(boxes));\n    }\n  } else {\n    // Normal layout in main thread.\n    cb(layout(boxes));\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual, isFunction } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  //  startAngle, endAngle  endAngle = Math.PI * 1.5 \n  if (isNumberEqual(endAngle, Math.PI * -0.5) && !isNumberEqual(startAngle, endAngle)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nexport function getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n        isFunction(animateCfg.callback) && animateCfg.callback();\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each, isFunction } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n            isFunction(animateCfg.callback) && animateCfg.callback();\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    let done = false;\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n          doWhat();\n          });\n          done = true;\n        }\n      });\n    }\n\n    if (!done) {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      if (ticks.length) ticks[ticks.length - 1].name = '';\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport View from '../../chart/view';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\nexport function getMaskAttrs(points) {\n  const currentPoint = last(points);\n  let r = 0;\n  let x = 0;\n  let y = 0;\n  if (points.length) {\n    const first = points[0];\n    r = distance(first, currentPoint) / 2;\n    x = (currentPoint.x + first.x) / 2;\n    y = (currentPoint.y + first.y) / 2;\n  }\n  return {\n    x,\n    y,\n    r,\n  };\n}\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\nexport function getRegion(points): Region {\n  return {\n    start: head(points),\n    end: last(points),\n  };\n}\n\n/**\n * \n * @param points\n * @returns\n */\nexport function getMaskAttrs(start, end) {\n  const x = Math.min(start.x, end.x);\n  const y = Math.min(start.y, end.y);\n  const width = Math.abs(end.x - start.x);\n  const height = Math.abs(end.y - start.y);\n  return {\n    x,\n    y,\n    width,\n    height,\n  };\n}\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion() {\n    return getRegion(this.points);\n  }\n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    return getMaskAttrs(start, end);\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\nexport function getRegion(points, dim, inPlot, coord): Region {\n  let start = null;\n  let end = null;\n  const normalStart = coord.invert(head(points));\n  const normalEnd = coord.invert(last(points));\n  if (inPlot) {\n    //  0 - 1 \n    clampPoint(normalStart);\n    clampPoint(normalEnd);\n  }\n  if (dim === 'x') {\n    // x , y \n    start = coord.convert({\n      x: normalStart.x,\n      y: 0,\n    });\n    end = coord.convert({\n      x: normalEnd.x,\n      y: 1,\n    });\n  } else {\n    // y , x \n    start = coord.convert({\n      x: 0,\n      y: normalStart.y,\n    });\n    end = coord.convert({\n      x: 1,\n      y: normalEnd.y,\n    });\n  }\n  return {\n    start,\n    end,\n  };\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion() {\n    const coord = this.context.view.getCoordinate();\n    return getRegion(this.points, this.dim, this.inPlot, coord);\n  }\n}\n\nexport default DimRect;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n *  mask \n * @param points\n * @returns\n */\nexport function getMaskPath(points) {\n  const path = [];\n  if (points.length) {\n    each(points, (point, index) => {\n      if (index === 0) {\n        path.push(['M', point.x, point.y]);\n      } else {\n        path.push(['L', point.x, point.y]);\n      }\n    });\n    path.push(['L', points[0].x, points[0].y]);\n  }\n  return path;\n}\n\nexport function getMaskAttrs(points) {\n  return {\n    path: getMaskPath(points),\n  };\n}\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  protected getMaskPath() {\n    return getMaskPath(this.points);\n  }\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n *  mask \n * @param points\n * @returns\n */\nexport function getMaskPath(points) {\n  return getSpline(points, true);\n}\n\nexport function getMaskAttrs(points) {\n  return {\n    path: getMaskPath(points),\n  };\n}\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  protected getMaskPath() {\n    return getMaskPath(this.points);\n  }\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n}\n\nexport default SmoothPathMask;\n","import { deepMix } from '@antv/util';\nimport Action from '../../base';\nimport { LooseObject } from '../../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MultipleMaskBase extends Action {\n  // mask \n  protected maskShapes = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  //  mask \n  protected recordPoints = null;\n  protected preMovePoint = null;\n  protected shapeType = 'path';\n  protected maskType = 'multi-mask';\n\n  /**\n   * \n   */\n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   *  mask \n   * @param type\n   */\n  protected emitEvent(type) {\n    const eventName = `${this.maskType}:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    const target = {\n      type: this.shapeType,\n      name: this.maskType,\n      get: (key: string) => (target.hasOwnProperty(key) ? target[key] : undefined),\n    };\n    view.emit(eventName, {\n      target,\n      maskShapes: this.maskShapes,\n      multiPoints: this.recordPoints,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  /**\n   *  mask\n   * @param index\n   */\n  private createMask(index: number) {\n    const view = this.context.view;\n    const points = this.recordPoints[index];\n    const maskAttrs = this.getMaskAttrs(points);\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    this.maskShapes.push(maskShape);\n  }\n\n  /**\n   *  mask shape attributes\n   * @param points\n   */\n  protected abstract getMaskAttrs(points: number[]): LooseObject;\n\n  /**\n   *  mask \n   */\n  protected getMaskPath(points) {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShapes.length > 0) {\n      this.maskShapes.forEach((maskShape) => maskShape.show());\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.recordPointStart();\n\n    this.starting = true;\n    // \n    this.moving = false;\n    //  index  mask\n    const index = this.recordPoints.length - 1;\n    this.createMask(index);\n    //  capture: falseresize \n    this.updateShapesCapture(false);\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n    this.updateShapesCapture(false);\n  }\n\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || this.maskShapes.length === 0) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n\n    //  event (x, y)  mask\n    const index = this.getCurMaskShapeIndex();\n    if (index > -1) {\n      this.recordPoints[index].forEach((point) => {\n        point.x += dx;\n        point.y += dy;\n      });\n      this.updateMask();\n      this.emitEvent('change');\n      this.preMovePoint = currentPoint;\n    }\n  }\n\n  /**\n   * \n   * @param maskStyle\n   */\n  protected updateMask(maskStyle?: LooseObject) {\n    this.recordPoints.forEach((points, index) => {\n      const attrs = deepMix({}, this.getMaskAttrs(points), maskStyle);\n      this.maskShapes[index].attr(attrs);\n    });\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    if (this.starting && this.maskShapes.length > 0) {\n      this.recordPointContinue();\n\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n    this.updateShapesCapture(true);\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    this.updateShapesCapture(true);\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShapes.length > 0) {\n      this.maskShapes.forEach((maskShape) => maskShape.hide());\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   *  mask\n   */\n  public remove() {\n    const index = this.getCurMaskShapeIndex();\n    if (index > -1) {\n      // event (x, y)  mask  mask\n      this.recordPoints.splice(index, 1);\n      this.maskShapes[index].remove();\n      this.maskShapes.splice(index, 1);\n      this.preMovePoint = null;\n      this.updateShapesCapture(true);\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   *  mask\n   */\n  public clearAll() {\n    this.recordPointClear();\n    this.maskShapes.forEach((maskShape) => maskShape.remove());\n    this.maskShapes = [];\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const index = this.getCurMaskShapeIndex();\n    if (index === -1) {\n      this.recordPointClear();\n      this.maskShapes.forEach((maskShape) => maskShape.remove());\n      this.maskShapes = [];\n      this.emitEvent('clearAll');\n    } else {\n      this.recordPoints.splice(index, 1);\n      this.maskShapes[index].remove();\n      this.maskShapes.splice(index, 1);\n      this.preMovePoint = null;\n      this.emitEvent('clearSingle');\n    }\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n    super.destroy();\n  }\n\n  /**\n   *  mask \n   */\n  protected getRecordPoints() {\n    return [...(this.recordPoints ?? [])];\n  }\n\n  /**\n   *  mask \n   */\n  protected recordPointStart() {\n    const recordPoints = this.getRecordPoints();\n    const currentPoint = this.getCurrentPoint();\n    this.recordPoints = [...recordPoints, [currentPoint]];\n  }\n\n  /**\n   *  mask \n   */\n  protected recordPointContinue() {\n    const recordPoints = this.getRecordPoints();\n    const currentPoint = this.getCurrentPoint();\n    const lastPoints = recordPoints.splice(-1, 1)[0] || [];\n    lastPoints.push(currentPoint);\n    this.recordPoints = [...recordPoints, lastPoints];\n  }\n\n  /**\n   *  mask  \n   */\n  protected recordPointClear() {\n    this.recordPoints = [];\n  }\n\n  /**\n   *  capture\n   * false: resize \n   * true: \n   * @param isCapture\n   */\n  protected updateShapesCapture(isCapture: boolean) {\n    this.maskShapes.forEach((maskShape) => maskShape.set('capture', isCapture));\n  }\n\n  /**\n   *\n   * @returns  event (x, y)  maskShape  index\n   */\n  protected getCurMaskShapeIndex() {\n    const currentPoint = this.getCurrentPoint();\n    return this.maskShapes.findIndex((maskShape) => {\n      const { width, height, r } = maskShape.attrs;\n      const isEmpty = width === 0 || height === 0 || r === 0;\n      return !isEmpty && maskShape.isHit(currentPoint.x, currentPoint.y);\n    });\n  }\n}\n\nexport default MultipleMaskBase;\n","import MultipleMaskBase from './base';\nimport { getRegion, getMaskAttrs } from '../rect';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMultiMask extends MultipleMaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(points) {\n    return getRegion(points);\n  }\n  protected getMaskAttrs(points) {\n    const { start, end } = this.getRegion(points);\n    return getMaskAttrs(start, end);\n  }\n}\n\nexport default RectMultiMask;\n","import MultipleRectMask from './rect';\nimport { getRegion } from '../dim-rect';\n\n/**\n * @ignore\n */\nclass DimRectMultiMask extends MultipleRectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(points) {\n    const coord = this.context.view.getCoordinate();\n    return getRegion(points, this.dim, this.inPlot, coord);\n  }\n}\n\nexport default DimRectMultiMask;\n","import MultipleMaskBase from './base';\nimport { getMaskAttrs } from '../circle';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMultiMask extends MultipleMaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs = getMaskAttrs;\n}\n\nexport default CircleMultiMask;\n","import MultipleMaskBase from './base';\nimport { getMaskAttrs, getMaskPath } from '../path';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMultiMask extends MultipleMaskBase {\n  protected getMaskPath = getMaskPath;\n  protected getMaskAttrs = getMaskAttrs;\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMultiMask;\n","import MultiplePathMask from './path';\nimport { getMaskPath, getMaskAttrs } from '../smooth-path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMultiMask extends MultiplePathMask {\n  protected getMaskPath = getMaskPath;\n  protected getMaskAttrs = getMaskAttrs;\n}\n\nexport default SmoothPathMultiMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n  /**\n   * \n   */\n  public zoomIn() {\n    this.setCursor('zoom-in');\n  }\n  /**\n   * \n   */\n  public zoomOut() {\n    this.setCursor('zoom-out');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // tooltip tip  50%\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { isFunction } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  //    toAttrs \n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // \n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n      isFunction(animateCfg.callback) && animateCfg.callback();\n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","import { filter, get, isNumber } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { Element, Geometry, View } from '@antv/g2';\nimport { get, reduce } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { Types } from '@antv/g2';\nimport { isArray, isNumber } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Point, Position } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { IGroup, View } from '@antv/g2';\nimport { each, get, isFunction, isNumber, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { kebabCase } from './kebab-case';\nimport { pick } from './pick';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Geometry, Types, View } from '@antv/g2';\nimport { each, isFunction } from '@antv/util';\nimport { Options } from '../types';\nimport { Animation } from '../types/animation';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n\n/**\n *  Geometries \n * @param view View\n * @param animation \n */\nexport function addViewAnimation(\n  view: View,\n  animation: Options['animation'],\n  geometries: Geometry<Types.ShapePoint>[] = view.geometries\n) {\n  //  view \n  if (typeof animation === 'boolean') {\n    view.animate(animation);\n  } else {\n    view.animate(true);\n  }\n\n  //  Geometry \n  each(geometries, (g: Geometry) => {\n    let animationCfg;\n    if (isFunction(animation)) {\n      animationCfg = animation(g.type || g.shapeType, g) || true;\n    } else {\n      animationCfg = animation;\n    }\n\n    g.animate(animationCfg as Animation);\n  });\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  drawBackground,\n  getPixelRatio,\n  getSymbolsPosition,\n  getUnitPatternSize,\n  initCanvas,\n  transformMatrix,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { drawBackground, getPixelRatio, initCanvas, transformMatrix } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  drawBackground,\n  getPixelRatio,\n  getSymbolsPosition,\n  getUnitPatternSize,\n  initCanvas,\n  transformMatrix,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\nimport { getCanvasPattern } from '../utils/pattern';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Axis } from '../types/axis';\nimport { Transformations } from '../types/coordinate';\nimport { Interaction } from '../types/interaction';\nimport { addViewAnimation, deepAssign, pick } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  addViewAnimation(chart, animation);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import { isEmpty, isFunction, isNumber, isObject, isString, uniq } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, Datum, Options, RawFields, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: RawFields;\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField } = o;\n  let { rawFields } = o;\n\n  let fields = [];\n  rawFields = (isFunction(rawFields) ? rawFields(type, field) : rawFields) || [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: smooth ? 'smooth' : 'area',\n                tooltip: formatter,\n              },\n              area\n            ),\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import EE from '@antv/event-emitter';\nimport { Chart, Element, Event, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { bind } from 'size-sensor';\nimport { Annotation, Options, Size, StateCondition, StateName, StateObject } from '../types';\nimport { deepAssign, getAllElementsRecursively, getContainerSize, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  scale,\n  scrollbar,\n  slider,\n  theme,\n  tooltip,\n} from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  pattern,\n  slider,\n  theme,\n  tooltip,\n  transformations,\n} from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { axis, legend, meta } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    areaShape,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: {\n        color,\n        style: areaStyle,\n        shape: areaShape,\n      },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { AreaOptions } from './types';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, options?: BrushCfg) {\n  const { mask, isStartEnable } = options || {};\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mousemove', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          {\n            trigger: 'plot:mousemove',\n            action: 'cursor:default',\n            isEnable: (context) => (isStartEnable ? !isStartEnable(context) : false),\n          },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\n/** brush  */\nimport '../interactions/brush';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { BrushCfg, Interaction, Options as BaseOptions, Writable } from '../types';\nimport { deepAssign } from '../utils';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { Element, registerInteraction, ShapeAttrs } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  // 0 / 0 \n  if (prev === 0 && next === 0) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n\n  if (prev === 0) {\n    return '';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { Coordinate, Element, Geometry, getTheme, IGroup, ShapeAttrs, View } from '@antv/g2';\nimport { each, find, isObject, map } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { brushInteraction } from '../../adaptor/brush';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  scale,\n  scrollbar,\n  slider,\n  state,\n  theme,\n  transformations,\n} from '../../adaptor/common';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { adjustYMetaByZero, deepAssign, findGeometry, flow, pick, transformLabel } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] ?? datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const { customItems } = tooltipOptions;\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          // fix https://github.com/antvis/G2Plot/issues/3367\n          return customItems ? customItems(items) : items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { Axis } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { BarOptions } from './types';\nexport { meta } from '../column/adaptor';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { BarOptions } from './types';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { ColumnOptions } from './types';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n","import { Types } from '@antv/g2';\nimport { get, isFunction, isNumber, map, maxBy } from '@antv/util';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\n\nexport const CONVERSION_TAG_NAME = 'CONVERSION_TAG_NAME';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    // @ts-ignore\n    const { conversionTag, filteredData } = options;\n\n    const data = filteredData || chart.getOptions().data;\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          name: CONVERSION_TAG_NAME,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, map } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { findGeometry, flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options, chart } = params;\n  const { maxSize } = options;\n\n  // \n  const dataArray = get(chart, ['geometries', '0', 'dataArray'], []);\n  const size = get(chart, ['options', 'data', 'length']);\n  const x = map(dataArray, (item) => get(item, ['0', 'nextPoints', '0', 'x']) * size - 0.5);\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [x[datumIndex - 1] || datumIndex - 0.5, percent],\n      end: [x[datumIndex - 1] || datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, isNumber, map } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { deepAssign, flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\nexport function compareConversionTag(params: Params<FunnelOptions>) {\n  // @ts-ignore\n  const { chart, index, options } = params;\n  const { conversionTag, isTransposed } = options;\n  (isNumber(index) ? [chart] : chart.views).forEach((view, viewIndex) => {\n    // \n    const dataArray = get(view, ['geometries', '0', 'dataArray'], []);\n    const size = get(view, ['options', 'data', 'length']);\n    const x = map(dataArray, (item) => get(item, ['0', 'nextPoints', '0', 'x']) * size - 0.5);\n\n    const getLineCoordinate = (\n      datum: Datum,\n      datumIndex: number,\n      data: Data,\n      initLineOption: Record<string, any>\n    ): Types.LineOption => {\n      const ratio = (index || viewIndex) === 0 ? -1 : 1;\n      return deepAssign({}, initLineOption, {\n        start: [x[datumIndex - 1] || datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n        end: [x[datumIndex - 1] || datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n        text: isTransposed\n          ? {\n              style: {\n                textAlign: 'start',\n              },\n            }\n          : {\n              offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n              style: {\n                textAlign: (index || viewIndex) === 0 ? 'end' : 'start',\n              },\n            },\n      });\n    };\n\n    conversionTagComponent(getLineCoordinate)(\n      deepAssign(\n        {},\n        {\n          chart: view,\n          options,\n        }\n      )\n    );\n  });\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  // @ts-ignore\n  chart.once('beforepaint', () => compareConversionTag(params));\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, map, maxBy, reduce } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Params } from '../../../core/adaptor';\nimport { deepAssign, flow } from '../../../utils';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { Action } from '@antv/g2';\nimport { each, filter, get, map } from '@antv/util';\nimport { conversionTag as basicConversionTag } from '../geometries/basic';\nimport { CONVERSION_TAG_NAME, transformData } from '../geometries/common';\nimport { compareConversionTag } from '../geometries/compare';\nimport { FunnelOptions } from '../types';\n\n/**\n * Funnel  legend \n */\nexport class ConversionTagAction extends Action {\n  private rendering = false;\n  public change(options: FunnelOptions) {\n    // \n    if (!this.rendering) {\n      const { seriesField, compareField } = options;\n      const conversionTag = compareField ? compareConversionTag : basicConversionTag;\n      const { view } = this.context;\n      // \n      const views = seriesField || compareField ? view.views : [view];\n      map(views, (v, index) => {\n        //  annotations \n        const annotationController = v.getController('annotation');\n\n        const annotations = filter(\n          get(annotationController, ['option'], []),\n          ({ name }) => name !== CONVERSION_TAG_NAME\n        );\n\n        annotationController.clear(true);\n\n        each(annotations, (annotation) => {\n          if (typeof annotation === 'object') {\n            v.annotation()[annotation.type](annotation);\n          }\n        });\n\n        const data = get(v, ['filteredData'], v.getOptions().data);\n\n        conversionTag({\n          chart: v,\n          index,\n          options: {\n            ...options,\n            // @ts-ignore\n            filteredData: transformData(data, data, options),\n          },\n        });\n\n        v.filterData(data);\n        this.rendering = true;\n        v.render(true);\n      });\n    }\n    this.rendering = false;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { ConversionTagAction } from './funnel-conversion-tag';\n\nconst FUNNEL_CONVERSION_TAG = 'funnel-conversion-tag';\nexport const FUNNEL_LEGEND_FILTER = 'funnel-afterrender';\nexport const interactionStart = { trigger: 'afterrender', action: `${FUNNEL_CONVERSION_TAG}:change` };\n\nregisterAction(FUNNEL_CONVERSION_TAG, ConversionTagAction);\nregisterInteraction(FUNNEL_LEGEND_FILTER, {\n  start: [interactionStart],\n});\n","import { clone, each, isFunction } from '@antv/util';\nimport { animation, annotation, scale, theme, tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { facetFunnel } from './geometries/facet';\nimport { FUNNEL_LEGEND_FILTER, interactionStart } from './interactions';\nimport { FunnelOptions } from './types';\nimport type { Interaction } from './types';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<FunnelOptions, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  // @ts-ignore\n  const { interactions, dynamicHeight } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n  //   \n  if (!dynamicHeight) {\n    chart.interaction(FUNNEL_LEGEND_FILTER, {\n      start: [{ ...interactionStart, arg: options }],\n    });\n  } else {\n    chart.removeInteraction(FUNNEL_LEGEND_FILTER);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { Element } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { StateCondition, StateName, StateObject } from '../..';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getAllElementsRecursively } from '../../utils';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\nimport './interactions';\nimport { FunnelOptions } from './types';\n\nexport type { FunnelOptions };\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import { clamp, get, size, uniq } from '@antv/util';\nimport { Data } from '../../types';\nimport { PERCENT, RANGE_TYPE, RANGE_VALUE } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? uniq(ticks) : [0, clamp(percent, 0, 1), 1];\n  if (!clampTicks[0]) {\n    clampTicks.shift();\n  }\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { animation, annotation, interaction, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { DEFAULT_COLOR, INDICATEOR_VIEW_ID, PERCENT, RANGE_TYPE, RANGE_VALUE, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { clone, each, getRange, groupBy, hasKey, isEmpty, sortBy, valuesOfKey } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { animation, interaction, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\nimport { HistogramOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { HistogramOptions } from './types';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { Geometry, InteractionAction, View } from '@antv/g2';\nimport { each, findIndex } from '@antv/util';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\nimport { LineOptions } from './types';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Action, Element, Util } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { Action, Types, Util, View } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { each, get, isArray, isEmpty, isFunction, isNil, isNumber, isString, toString } from '@antv/util';\nimport { animation, annotation, legend, state, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Data, Datum } from '../../types';\nimport { Interaction } from '../../types/interaction';\nimport { deepAssign, flow, processIllegalData, renderStatistic, template, transformLabel } from '../../utils';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle, shape } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          shape,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          shape,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport './interactions';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      //  progressStyle \n      current: `${clampPercent}`,\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      current: `${clampPercent}`,\n      type: 'target',\n      percent: 1,\n    },\n  ];\n}\n","import { isString } from '@antv/util';\nimport { animation, annotation, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { DEFAULT_COLOR } from './constants';\nimport { ProgressOptions } from './types';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'current',\n      yField: 'percent',\n      seriesField: 'type',\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { ProgressOptions } from './types';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { animation, annotation, scale, theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getProgressData } from '../progress/utils';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { RingProgressOptions } from './types';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nfunction points(data, x, y, sort) {\n  data = data.filter(function (d, i) {\n    var u = x(d, i),\n        v = y(d, i);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d, i, data);\n    Y[i] = yv = +y(d, i, data);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nfunction visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d, i, data),\n        dy = +y(d, i, data);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}\n\n// return the coefficient of determination, or R squared.\n\nfunction determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}\n\n// Returns the angle of a line in degrees.\nfunction angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nfunction midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}\n\n// returns a smooth line.\n\nfunction interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}\n\n// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nfunction ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}\n\nfunction exponential () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}\n\nfunction linear () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}\n\n// Returns the medium value of an array of numbers.\nfunction median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}\n\nvar maxiters = 2,\n    epsilon = 1e-12;\nfunction loess () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}\n\nfunction logarithmic () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      base = Math.E,\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity,\n        lb = Math.log(base);\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx) / lb;\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) / lb + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  logarithmic.base = function (n) {\n    return arguments.length ? (base = n, logarithmic) : base;\n  };\n\n  return logarithmic;\n}\n\nfunction quad () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}\n\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nfunction polynomial () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}\n\nfunction power () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}\n\nexport { exponential as regressionExp, linear as regressionLinear, loess as regressionLoess, logarithmic as regressionLog, polynomial as regressionPoly, power as regressionPow, quad as regressionQuad };\n","import { View } from '@antv/g2';\nimport { get, isArray, isNumber } from '@antv/util';\nimport {\n  regressionExp,\n  regressionLinear,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\ntype D3RegressionResult = {\n  a?: number;\n  b?: number;\n  c?: number;\n  coefficients?: number[];\n  rSquared?: number;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm, equation: customEquation } = regressionLine;\n  let pathData: Array<[number, number]>;\n  let equation = null;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n    equation = customEquation;\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n    equation = getRegressionEquation(type, pathData as D3RegressionResult);\n  }\n  return [splinePath(pathData, config), equation];\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n\n/**\n * \n * @param {string} type - \n * @param {D3RegressionResult} res - \n * @return {string}\n */\nexport function getRegressionEquation(type: string, res: D3RegressionResult) {\n  const roundByPrecision = (n, p = 4) => Math.round(n * Math.pow(10, p)) / Math.pow(10, p);\n  const safeFormat = (value) => (Number.isFinite(value) ? roundByPrecision(value) : '?');\n\n  switch (type) {\n    case 'linear':\n      // y = ax + b\n      return `y = ${safeFormat(res.a)}x + ${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'exp':\n      // y = ae^(bx)\n      return `y = ${safeFormat(res.a)}e^(${safeFormat(res.b)}x), R^2 = ${safeFormat(res.rSquared)}`;\n    case 'log':\n      // y = a  ln(x) + b\n      return `y = ${safeFormat(res.a)}ln(x) + ${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'quad':\n      // y = ax^2 + bx + c\n      return `y = ${safeFormat(res.a)}x^2 + ${safeFormat(res.b)}x + ${safeFormat(res.c)}, R^2 = ${safeFormat(\n        res.rSquared\n      )}`;\n    case 'poly':\n      // y = anx^n + ... + a1x + a0\n      // eslint-disable-next-line no-case-declarations\n      let temp = `y = ${safeFormat(res.coefficients?.[0])} + ${safeFormat(res.coefficients?.[1])}x + ${safeFormat(\n        res.coefficients?.[2]\n      )}x^2`;\n      for (let i = 3; i < res.coefficients.length; ++i) {\n        temp += ` + ${safeFormat(res.coefficients[i])}x^${i}`;\n      }\n      return `${temp}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'pow':\n      // y = ax^b\n      return `y = ${safeFormat(res.a)}x^${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n  }\n  return null;\n}\n","import { isNumber } from '@antv/util';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { animation, annotation, interaction, scale, scrollbar, slider, theme } from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, pick, transformLabel } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { getMeta, getPath, getQuadrantDefaultConfig } from './util';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, equationStyle = {}, top = false, showEquation = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    const defaulEquationStyle = {\n      x: 20,\n      y: 20,\n      textAlign: 'left' as const,\n      textBaseline: 'middle' as const,\n      fontSize: 14,\n      fillOpacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const [path, equation] = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n        if (showEquation) {\n          group.addShape('text', {\n            name: 'regression-equation',\n            attrs: {\n              ...defaulEquationStyle,\n              ...equationStyle,\n              text: equation,\n            },\n          });\n        }\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor, meta, transformOptions } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { ScatterOptions } from './types';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data: Record<string, any>[], yField: [string, string, string, string]) {\n  return map(data, (item) => {\n    const obj = item && { ...item };\n    if (isArray(yField) && obj) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { animation, annotation, interaction, slider, theme } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { animation, annotation, pattern, scale, theme, tooltip } from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyAreaOptions } from './types';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, pattern, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, theme, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from './constants';\nimport { TinyLineOptions } from './types';\nimport { getTinyData } from './utils';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyLineOptions } from './types';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Options } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { Area, AreaOptions } from '../area';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { Bar, BarOptions } from '../bar';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { Column, ColumnOptions } from '../column';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { Pie, PieOptions } from '../pie';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { Progress, ProgressOptions } from '../progress';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { Stock, StockOptions } from '../stock';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { animation, annotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { Axis } from '../../types/axis';\nimport { Interaction } from '../../types/interaction';\nimport { Legend } from '../../types/legend';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { IGeometry, IView, MixOptions } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element, registerAction, registerInteraction, View } from '@antv/g2';\nimport { each, get, isArray, map } from '@antv/util';\nimport { getAllElements, getSiblingViews, getViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { Element, View } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport { MixOptions } from './types';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { Types } from '@antv/g2';\nimport { groupBy } from '@antv/util';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport {\n  animation as commonAnimation,\n  interaction as commonInteraction,\n  limitInPlot as commonLimitInPlot,\n  scale,\n  theme as commonTheme,\n  tooltip,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, findViewById, flow, transformLabel } from '../../utils';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { BidirectionalBarOptions } from './types';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as any).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign, findViewById } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { BidirectionalBarOptions } from './types';\nimport { isHorizontal, syncViewPadding, transformData } from './utils';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { animation, annotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { BoxOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, annotation(), interaction, animation, theme)(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nimport { BoxOptions } from './types';\nimport { transformData } from './utils';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { animation, interaction, scale, theme, tooltip } from '../../adaptor/common';\nimport { interval, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, flow, transformLabel } from '../../utils';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        offsetX,\n        content: name,\n      };\n    },\n    labelEmit: true,\n    style: {\n      fill: '#8c8c8c',\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { interaction, state, theme } from '../../adaptor/common';\nimport { edge, polygon } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { addViewAnimation, flow, getAllGeometriesRecursively, pick, transformDataToNodeLinkData } from '../../utils';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { EDGE_COLOR_FIELD, NODE_COLOR_FIELD, X_FIELD, Y_FIELD } from './constant';\nimport { ChordOptions } from './types';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  addViewAnimation(chart, animation, getAllGeometriesRecursively(chart));\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, isNil, last, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  };\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import { filter, isArray, isString } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { assign, isArray } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { HierarchyOption } from './types';\nimport { getAllNodes, getField } from './util';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { deepAssign, pick } from '../../utils';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction as baseInteraction,\n  legend,\n  pattern,\n  scale,\n  theme,\n} from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { RAW_FIELDS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport { resolvePaddingForCircle, transformData } from './utils';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { CirclePackingOptions } from './types';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { ColumnOptions } from '../column/types';\nimport { LineOptions } from '../line/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\nimport {\n  AxisType,\n  DualAxesGeometry,\n  DualAxesOptions,\n  GeometryColumnOption,\n  GeometryLineOption,\n  GeometryOption,\n} from '../types';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { Util, View } from '@antv/g2';\nimport { get, isEmpty, isFunction, reduce } from '@antv/util';\nimport { Legend } from '../../../types/legend';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { Event, Scale, Types } from '@antv/g2';\nimport { each, every, find, findIndex, get, isBoolean, isEqual, isObject } from '@antv/util';\nimport {\n  animation as commonAnimation,\n  annotation as commonAnnotation,\n  interaction as commonInteraction,\n  limitInPlot as commonLimitInPlot,\n  scale,\n  theme as commonTheme,\n} from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { percent } from '../../utils/transform/percent';\nimport { findViewById } from '../../utils/view';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\nimport { AxisType, DualAxesGeometry, DualAxesOptions } from './types';\nimport { drawSingleGeometry } from './util/geometry';\nimport { getViewLegendItems } from './util/legend';\nimport { getGeometryOption, getYAxisWithDefault, isColumn, transformObjectToArray } from './util/option';\nimport { doSliderFilter } from './util/render-sider';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { line, point } from '../../../adaptor/geometries';\nimport { Params } from '../../../core/adaptor';\nimport { deepAssign, pick } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isColumn, isLine } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { DualAxesOptions } from './types';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { Axis, Interaction } from '../../types';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Axis, Interaction, Options } from '../../types';\nimport { addViewAnimation, deepAssign, pick } from '../../utils';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  addViewAnimation(viewOfG2, animation as Options['animation']);\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNumber } from '@antv/util';\nimport { animation, annotation, interaction, pattern, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle, meta } =\n    options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  let { min, max } = meta?.[sizeField] || {};\n                  min = isNumber(min) ? min : Math.min(...field);\n                  max = isNumber(max) ? max : Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  const coordinateOption = deepAssign({ actions: [] }, coordinate ?? { type: 'rect' });\n\n  if (reflect) {\n    coordinateOption.actions?.push?.(['reflect', reflect]);\n  }\n\n  chart.coordinate(coordinateOption);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { IGroup, registerShape, Types } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { IGroup, registerShape, Types } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\nimport { HeatmapOptions } from './types';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { animation, interaction, pattern, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { CustomInfo, LiquidOptions } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, shapeStyle, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    percent,\n    radius,\n    outline,\n    wave,\n    shape,\n    shapeStyle,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { IGroup, IShape } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { isNumber, mix, reduce } from '@antv/util';\nimport { Point, ShapeStyle } from '../../../types';\nimport { transform } from '../../../utils/matrix';\nimport { CustomInfo, LiquidOptions } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 1 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { percent, radius: radio, shape, shapeStyle, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1.  shapeStyle \n    if (shapeStyle) {\n      container.addShape('path', {\n        name: 'shape',\n        attrs: {\n          path: shapePath,\n          ...shapeStyle,\n        },\n      });\n    }\n\n    //  0 \n    if (percent > 0) {\n      // 2. \n      const waves = container.addGroup({\n        name: 'waves',\n      });\n\n      // 3.  clip \n      const clipPath = waves.setClip({\n        type: 'path',\n        attrs: {\n          path: shapePath,\n        },\n      });\n\n      // 4. \n      addWaterWave(\n        center.x,\n        center.y,\n        1 - (cfg.points[1] as Point).y,\n        waveCount,\n        waveAttrs,\n        waves,\n        clipPath,\n        radius * 2,\n        waveLength,\n        animation\n      );\n    }\n\n    // 5.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 6.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n// register liquid shape\nimport './shapes/liquid';\nimport { LiquidOptions } from './types';\nimport { getLiquidData } from './utils';\n\nexport { addWaterWave } from './shapes/liquid';\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, interaction, legend, scale, theme, tooltip } from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { Action, registerComponentController, TooltipController, Util } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport { RadarOptions } from './types';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { animation, annotation, interaction, legend, scale, theme, tooltip } from '../../adaptor/common';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, processIllegalData, transformLabel } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data, shape } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: shape || (type === 'line' ? 'line' : 'intervel'),\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { RadialBarOptions } from './types';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isArray, isObject } from '@antv/util';\nimport { animation, annotation, interaction, pattern, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, LEVEL, log, transformLabel } from '../../utils';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, shape, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n          shape: shape,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { RoseOptions } from './types';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, maxValueBy, minValueBy, sumBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isFunction, isString } from '@antv/util';\nimport { Datum } from '../../types';\nimport { center, justify, left, right, sankey } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | ((...args: any[]) => any);\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n","import { Data } from '../../types';\nimport { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { cutoffCircle } from './circle';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { edge, polygon } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { addViewAnimation } from '../../utils/view';\nimport { COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID, X_FIELD, Y_FIELD } from './constant';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState, rawFields = [] } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      rawFields: ['source', 'target', ...rawFields],\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  addViewAnimation(chart, animation, geometries);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\nimport { transformToViewsData } from './helper';\n// \nimport './interactions';\nimport { SankeyOptions } from './types';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import { assign, isArray, reduce, size } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { getAllNodes, getField } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: (a: any, b: any) => any; // Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import { assign, isArray } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { HierarchyOption } from './types';\nimport { getAllNodes, getField } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { Types } from '@antv/g2';\nimport { get, isFunction, uniq } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction as baseInteraction,\n  legend,\n  pattern,\n  scale,\n  theme,\n} from '../../adaptor/common';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { SunburstOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [], shape } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n          shape,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\nimport { SunburstOptions } from './types';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { animation, annotation, interaction as commonInteraction, legend, theme, tooltip } from '../../adaptor/common';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { TreemapOptions } from './types';\nimport { enableDrillInteraction, findInteraction, transformData } from './utils';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { TreemapOptions } from './types';\nimport { enableInteraction, resetDrillDown, transformData } from './utils';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { GeometryLabel, registerGeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { Datum, Point } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { PATH_FIELD } from './constant';\nimport { CustomInfo } from './types';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead } from 'fmin';\nimport { distance, getCenter, intersectionArea } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { bisect, conjugateGradient, nelderMead, norm2, scale, zeros, zerosM } from 'fmin';\nimport { circleCircleIntersection, circleOverlap, distance, intersectionArea } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { assign, memoize } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\nimport { blend } from '../../utils/color/blend';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { computeTextCentres, intersectionAreaPath } from './layout/diagram';\nimport { scaleSolution, venn } from './layout/layout';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { Geometry } from '@antv/g2';\nimport { deepMix, get, isArray, isEqual } from '@antv/util';\nimport { animation, interaction, scale, theme, tooltip } from '../../adaptor/common';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport {\n  deepAssign,\n  findGeometry,\n  flow,\n  getAdjustAppendPadding,\n  LEVEL,\n  log,\n  normalPadding,\n  resolveAllPadding,\n  transformLabel,\n} from '../../utils';\nimport { ID_FIELD } from './constant';\nimport './interactions';\nimport './label';\nimport './shape';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { getColorMap, islegalSets, layoutVennData } from './utils';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { VennOptions } from './types';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, max, min } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { each, get, omit, set } from '@antv/util';\nimport { annotation as baseAnnotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow, pick } from '../../utils';\nimport { addViewAnimation } from '../../utils/view';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    addViewAnimation(view, animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { get, isNumber, isObject, isUndefined, reduce } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { animation, annotation, interaction, scale, state, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\nimport './shape';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    total,\n    leaderLine,\n    columnWidthRatio,\n    waterfallStyle,\n    risingFill,\n    fallingFill,\n    color,\n    shape,\n    customInfo,\n  } = options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        // \n        shape: shape || 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({\n    ...customInfo,\n    leaderLine,\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Point } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { assign, isFunction, isNil } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(\r\n      (canvas.getContext('2d', { willReadFrequently: true }) as CanvasRenderingContext2D)!.getImageData(0, 0, 1, 1).data\r\n        .length >> 2\r\n    );\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d', { willReadFrequently: true }) as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Chart, Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { getContainerSize, LEVEL, log } from '../../utils';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { get, isFunction } from '@antv/util';\nimport { animation, interaction, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { IGroup, registerShape, ShapeAttrs, Types, Util } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// shape\nimport './shapes/word-cloud';\nimport { WordCloudOptions } from './types';\nimport { processImageMask, transform } from './utils';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { Adaptor } from '../core/adaptor';\nimport { PickOptions, Plot } from '../core/plot';\nimport { deepAssign } from '../utils';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","import type * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport type { Root } from 'react-dom/client';\n\n// Let compiler not to search module usage\nconst fullClone = {\n  ...ReactDOM,\n} as typeof ReactDOM & {\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED?: {\n    usingClientEntryPoint?: boolean;\n  };\n  createRoot?: CreateRoot;\n};\n\ntype CreateRoot = (container: ContainerType) => Root;\n\nconst { version, render: reactRender, unmountComponentAtNode } = fullClone;\n\nlet createRoot: CreateRoot;\ntry {\n  const mainVersion = Number((version || '').split('.')[0]);\n  if (mainVersion >= 18) {\n    ({ createRoot } = fullClone);\n  }\n} catch (e) {\n  // Do nothing;\n}\n\nfunction toggleWarning(skip: boolean) {\n  const { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } = fullClone;\n\n  if (\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\n    typeof __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED === 'object'\n  ) {\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint = skip;\n  }\n}\n\nconst MARK = '__rc_react_root__';\n\n// ========================== Render ==========================\ntype ContainerType = (Element | DocumentFragment) & {\n  [MARK]?: Root;\n};\n\nfunction modernRender(node: React.ReactNode, container: ContainerType) {\n  toggleWarning(true);\n  const root = container[MARK] || createRoot(container);\n  toggleWarning(false);\n\n  root.render(node);\n\n  container[MARK] = root;\n}\n\nfunction legacyRender(node: React.ReactElement, container: ContainerType) {\n  reactRender(node, container);\n}\n\n/** @private Test usage. Not work in prod */\nexport function _r(node: React.ReactElement, container: ContainerType) {\n  if (process.env.NODE_ENV !== 'production') {\n    return legacyRender(node, container);\n  }\n}\n\nexport function render(node: React.ReactElement, container: ContainerType) {\n  if (createRoot) {\n    modernRender(node, container);\n    return;\n  }\n\n  legacyRender(node, container);\n}\n\n// ========================= Unmount ==========================\nasync function modernUnmount(container: ContainerType) {\n  // Delay to unmount to avoid React 18 sync warning\n  return Promise.resolve().then(() => {\n    container[MARK]?.unmount();\n\n    delete container[MARK];\n  });\n}\n\nfunction legacyUnmount(container: ContainerType) {\n  unmountComponentAtNode(container);\n}\n\n/** @private Test usage. Not work in prod */\nexport function _u(container: ContainerType) {\n  if (process.env.NODE_ENV !== 'production') {\n    return legacyUnmount(container);\n  }\n}\n\nexport async function unmount(container: ContainerType) {\n  if (createRoot !== undefined) {\n    // Delay to unmount to avoid React 18 sync warning\n    return modernUnmount(container);\n  }\n\n  legacyUnmount(container);\n}\n","import React from 'react';\nimport { render } from './render';\n\nconst TOOLTIP_CONTAINER_MAPPING = new Map();\n\nconst createNode = (children: React.ReactElement, type?: string, uuid?: string) => {\n  let mountPoint = document.createElement('div');\n  if (type === 'tooltip') {\n    mountPoint.setAttribute('data-uuid', uuid);\n    if (TOOLTIP_CONTAINER_MAPPING.has(uuid)) {\n      mountPoint = TOOLTIP_CONTAINER_MAPPING.get(uuid);\n    } else {\n      TOOLTIP_CONTAINER_MAPPING.set(uuid, mountPoint);\n    }\n    mountPoint.className = 'g2-tooltip';\n  }\n  render(children, mountPoint);\n  return mountPoint;\n};\n\nexport default createNode;\n","/* eslint-disable no-restricted-syntax */\n// \nexport const isType = (value: any, type: string): boolean => {\n  const { toString } = {};\n  return toString.call(value) === `[object ${type}]`;\n};\n\nexport const clone = (source: Object) => {\n  if (!source) {\n    return source;\n  }\n  const target = {};\n  // eslint-disable-next-line guard-for-in\n  for (const k in source) {\n    target[k] = source[k];\n  }\n  return target;\n};\n\nexport const getType = (n: Object) => {\n  return Object.prototype.toString.call(n).slice(8, -1);\n};\n\n/**\n * \n * @param source \n */\nexport const deepClone = (source: Object | undefined) => {\n  if (!source || typeof source !== 'object') {\n    return source;\n  }\n\n  let target;\n  if (Array.isArray(source)) {\n    target = source.map((item) => deepClone(item));\n  } else {\n    target = {};\n    Object.keys(source).forEach((key) => {\n      return (target[key] = deepClone(source[key]));\n    });\n  }\n\n  return target;\n};\n\n/**\n *  undefined\n */\nexport const hasPath = (source: any, path: string[]) => {\n  let current = source;\n  for (let i = 0; i < path.length; i += 1) {\n    if (current?.[path[i]]) {\n      current = current[path[i]];\n    } else {\n      current = undefined;\n      break;\n    }\n  }\n  return current;\n};\n\n/**\n *  params \n */\nexport const setPath = (source: object, path: string[], value?: any) => {\n  if (!source) {\n    return source;\n  }\n  let o = source;\n  path.forEach((key: string, idx: number) => {\n    // \n    if (idx < path.length - 1) {\n      o = o[key];\n    } else {\n      o[key] = value;\n    }\n  });\n  return source;\n};\n\nexport const uuid = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0;\n    const v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n","import { useRef, useEffect } from 'react';\nimport { isEqual, get } from '@antv/util';\nimport { G2 } from '@antv/g2plot';\nimport createNode from '../utils/createNode';\nimport { hasPath, isType, deepClone, clone, setPath, uuid } from '../utils';\nimport { BasePlot, BaseConfig, AllBaseConfig } from '../interface';\n\ninterface Base extends BaseConfig<AllBaseConfig> {\n  data?: any;\n  value?: number;\n  /** GaugeLiquidProgressRingProgress */\n  percent?: number;\n}\n\nexport default function useInit<T extends BasePlot, U extends Base>(ChartClass: any, config: U) {\n  const chart = useRef<T>();\n  const chartOptions = useRef<U>();\n  const container = useRef<HTMLDivElement>(null);\n  const { onReady, onEvent } = config;\n\n  /**\n   * Get data base64\n   * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n   * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n   */\n  const toDataURL = (type = 'image/png', encoderOptions?: number) => {\n    return chart.current?.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n  };\n\n  /**\n   * Download Iamge\n   * @param {string} name A name of image\n   * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n   * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n   */\n  const downloadImage = (name = 'download', type = 'image/png', encoderOptions?: number): string => {\n    let imageName = name;\n    if (name.indexOf('.') === -1) {\n      imageName = `${name}.${type.split('/')[1]}`;\n    }\n    const base64 = chart.current?.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n    let a: HTMLAnchorElement | null = document.createElement('a');\n    a.href = base64;\n    a.download = imageName;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    a = null;\n    return imageName;\n  };\n\n  const reactDomToString = (source: U, path: string[], type?: string, _uuid?: string) => {\n    const statisticCustomHtml = hasPath(source, path);\n    setPath(source, path, (...arg: any[]) => {\n      const statisticDom = isType(statisticCustomHtml, 'Function') ? statisticCustomHtml(...arg) : statisticCustomHtml;\n      if (isType(statisticDom, 'String') || isType(statisticDom, 'Number') || isType(statisticDom, 'HTMLDivElement')) {\n        return statisticDom;\n      }\n      return createNode(statisticDom, type, _uuid);\n    });\n  };\n\n  const processConfig = () => {\n    const _uuid = uuid();\n    // statistic\n    if (hasPath(config, ['statistic', 'content', 'customHtml'])) {\n      reactDomToString(config, ['statistic', 'content', 'customHtml']);\n    }\n    if (hasPath(config, ['statistic', 'title', 'customHtml'])) {\n      reactDomToString(config, ['statistic', 'title', 'customHtml']);\n    }\n    // tooltip\n    if (typeof config.tooltip === 'object') {\n      if (hasPath(config, ['tooltip', 'container'])) {\n        reactDomToString(config, ['tooltip', 'container'], 'tooltip', _uuid);\n      }\n      if (hasPath(config, ['tooltip', 'customContent'])) {\n        reactDomToString(config, ['tooltip', 'customContent'], 'tooltip', _uuid);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (chart.current && !isEqual(chartOptions.current, config)) {\n      let changeData = false;\n      if (chartOptions.current) {\n        //  options  data value  percent \n        const {\n          data: currentData,\n          value: currentValue,\n          percent: currentPercent,\n          ...currentConfig\n        } = chartOptions.current;\n        const { data: inputData, value: inputValue, percent: inputPercent, ...inputConfig } = config;\n        changeData = isEqual(currentConfig, inputConfig);\n      }\n      chartOptions.current = deepClone(config);\n      if (changeData && get(config, 'chartType') !== 'Mix') {\n        let changeType = 'data';\n        const typeMaps = ['percent']; //  data  RingProgress\n        const currentKeys = Object.keys(config);\n        typeMaps.forEach((type: string) => {\n          if (currentKeys.includes(type)) {\n            changeType = type;\n          }\n        });\n        chart.current.changeData(config?.[changeType] || []);\n        chart.current.render();\n      } else {\n        processConfig();\n        chart.current.update(config);\n      }\n    }\n  }, [config]);\n\n  useEffect(() => {\n    if (!container.current) {\n      return () => null;\n    }\n    if (!chartOptions.current) {\n      chartOptions.current = deepClone(config);\n    }\n    processConfig();\n    const chartInstance: T = new (ChartClass as any)(container.current, {\n      ...config,\n    });\n\n    chartInstance.toDataURL = (type?: string, encoderOptions?: number) => {\n      return toDataURL(type, encoderOptions);\n    };\n    chartInstance.downloadImage = (name?: string, type?: string, encoderOptions?: number) => {\n      return downloadImage(name, type, encoderOptions);\n    };\n    chartInstance.render();\n    chart.current = clone(chartInstance) as T;\n    if (onReady) {\n      onReady(chartInstance);\n    }\n    const handler = (event: G2.Event) => {\n      if (onEvent) {\n        onEvent(chartInstance, event);\n      }\n    };\n    chartInstance.on('*', handler);\n\n    // \n    return () => {\n      if (chart.current) {\n        chart.current.destroy();\n        chart.current.off('*', handler);\n        chart.current = undefined;\n      }\n    };\n  }, []);\n\n  return {\n    chart,\n    container,\n  };\n}\n","import { isFunction } from '@antv/util';\nimport { ChartRefConfig } from '../interface';\n\n/**\n * \n */\nexport const getChart = (chartRef: ChartRefConfig | undefined, chart: any) => {\n  if (!chartRef) {\n    return;\n  }\n  if (isFunction(chartRef)) {\n    chartRef(chart);\n  } else {\n    chartRef.current = chart;\n  }\n};\n","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import React, { Fragment } from 'react';\n\nclass ErrorBoundary extends React.Component<any> {\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, error };\n  }\n\n  static getDerivedStateFromProps(nextProps: any, state: any) {\n    if (state.children !== nextProps.children) {\n      return {\n        children: nextProps.children,\n        hasError: false,\n        error: undefined,\n      };\n    }\n    return null;\n  }\n\n  state: {\n    hasError: boolean;\n    error?: Error;\n  } = {\n    hasError: false,\n  };\n\n  renderError = (e: Error) => {\n    const { errorTemplate } = this.props;\n    switch (e) {\n      default:\n        if (typeof errorTemplate === 'function') {\n          return errorTemplate(e);\n        }\n        return errorTemplate ? errorTemplate : <h5> {e.message}</h5>;\n    }\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return this.renderError(this.state.error!);\n    }\n    return <Fragment>{this.props.children}</Fragment>;\n  }\n}\n\nexport default ErrorBoundary;\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\ninterface Props {\n  /**\n   * @title \n   * @description \n   * @title.en_US Theme\n   * @description.en_US Configure theme colors\n   */\n  theme?: string | object;\n  /**\n   * @title \n   * @description \n   * @title.en_US Load template\n   * @description.en_US Chart loading\n   */\n  loadingTemplate?: React.ReactElement;\n}\n\nconst ChartLoading = ({ loadingTemplate, theme = 'light' }: Props) => {\n  const renderLoading = () => {\n    if (loadingTemplate) {\n      return loadingTemplate;\n    }\n    return (\n      <ContentLoader\n        viewBox=\"0 0 400 180\"\n        width={200}\n        height={90}\n        speed={1}\n        backgroundColor={theme === 'dark' ? '#262626' : '#D9D9D9'}\n      >\n        <rect x=\"20\" y=\"5\" rx=\"0\" ry=\"0\" width=\"1\" height=\"170\" />\n        <rect x=\"20\" y=\"175\" rx=\"0\" ry=\"0\" width=\"360\" height=\"1\" />\n        <rect x=\"40\" y=\"75\" rx=\"0\" ry=\"0\" width=\"35\" height=\"100\" />\n        <rect x=\"80\" y=\"125\" rx=\"0\" ry=\"0\" width=\"35\" height=\"50\" />\n        <rect x=\"120\" y=\"105\" rx=\"0\" ry=\"0\" width=\"35\" height=\"70\" />\n        <rect x=\"160\" y=\"35\" rx=\"0\" ry=\"0\" width=\"35\" height=\"140\" />\n        <rect x=\"200\" y=\"55\" rx=\"0\" ry=\"0\" width=\"35\" height=\"120\" />\n        <rect x=\"240\" y=\"15\" rx=\"0\" ry=\"0\" width=\"35\" height=\"160\" />\n        <rect x=\"280\" y=\"135\" rx=\"0\" ry=\"0\" width=\"35\" height=\"40\" />\n        <rect x=\"320\" y=\"85\" rx=\"0\" ry=\"0\" width=\"35\" height=\"90\" />\n      </ContentLoader>\n    );\n  };\n\n  return (\n    <div\n      className=\"charts-loading-container\"\n      style={{\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        left: 0,\n        top: 0,\n        zIndex: 99,\n        backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n      }}\n    >\n      {renderLoading()}\n    </div>\n  );\n};\n\nexport default ChartLoading;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Area as G2plotArea, AreaOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface AreaConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst AreaChart = forwardRef((props: AreaConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotArea, AreaConfig>(G2plotArea, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default AreaChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Bar as G2plotBar, BarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface BarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BarChart = forwardRef((props: BarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBar, BarConfig>(G2plotBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Bullet as G2plotBullet, BulletOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface BulletConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BulletChart = forwardRef((props: BulletConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBullet, BulletConfig>(G2plotBullet, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BulletChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Column as G2plotColumn, ColumnOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ColumnConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ColumnChart = forwardRef((props: ColumnConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotColumn, ColumnConfig>(G2plotColumn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ColumnChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Funnel as G2plotFunnel, FunnelOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface FunnelConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst FunnelChart = forwardRef((props: FunnelConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotFunnel, FunnelConfig>(G2plotFunnel, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default FunnelChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Histogram as G2plotHistogram, HistogramOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface HistogramConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst HistogramChart = forwardRef((props: HistogramConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotHistogram, HistogramConfig>(G2plotHistogram, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default HistogramChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Line as G2plotLine, LineOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface LineConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst LineChart = forwardRef((props: LineConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotLine, LineConfig>(G2plotLine, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default LineChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Box as G2plotBox, BoxOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface BoxConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BoxChart = forwardRef((props: BoxConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBox, BoxConfig>(G2plotBox, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BoxChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Liquid as G2plotLiquid, LiquidOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface LiquidConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst LiquidChart = forwardRef((props: LiquidConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotLiquid, LiquidConfig>(G2plotLiquid, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default LiquidChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Heatmap as G2plotHeatmap, HeatmapOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface HeatmapConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst HeatmapChart = forwardRef((props: HeatmapConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotHeatmap, HeatmapConfig>(G2plotHeatmap, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default HeatmapChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Pie as G2plotPie, PieOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface PieConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst PieChart = forwardRef((props: PieConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotPie, PieConfig>(G2plotPie, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default PieChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Gauge as G2plotGauge, GaugeOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface GaugeConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst GaugeChart = forwardRef((props: GaugeConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotGauge, GaugeConfig>(G2plotGauge, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default GaugeChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Progress as G2plotProgress, ProgressOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ProgressConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ProgressChart = forwardRef((props: ProgressConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotProgress, ProgressConfig>(G2plotProgress, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ProgressChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Radar as G2plotRadar, RadarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface RadarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RadarChart = forwardRef((props: RadarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRadar, RadarConfig>(G2plotRadar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RadarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { RingProgress as G2plotRingProgress, RingProgressOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface RingProgressConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RingProgressChart = forwardRef((props: RingProgressConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRingProgress, RingProgressConfig>(G2plotRingProgress, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RingProgressChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Rose as G2plotRose, RoseOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface RoseConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RoseChart = forwardRef((props: RoseConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRose, RoseConfig>(G2plotRose, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RoseChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Chord as G2plotChord, ChordOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ChordConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ChordChart = forwardRef((props: ChordConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotChord, ChordConfig>(G2plotChord, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ChordChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Scatter as G2plotScatter, ScatterOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ScatterConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ScatterChart = forwardRef((props: ScatterConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotScatter, ScatterConfig>(G2plotScatter, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ScatterChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyArea as G2plotTinyArea, TinyAreaOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface TinyAreaConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyAreaChart = forwardRef((props: TinyAreaConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyArea, TinyAreaConfig>(G2plotTinyArea, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyAreaChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyColumn as G2plotTinyColumn, TinyColumnOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface TinyColumnConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyColumnChart = forwardRef((props: TinyColumnConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyColumn, TinyColumnConfig>(G2plotTinyColumn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyColumnChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { DualAxes as G2plotDualAxes, DualAxesOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface DualAxesConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst DualAxesChart = forwardRef((props: DualAxesConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  // @ts-ignore annotations \n  const { chart, container } = useChart<G2plotDualAxes, DualAxesConfig>(G2plotDualAxes, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default DualAxesChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyLine as G2plotTinyLine, TinyLineOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface TinyLineConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyLineChart = forwardRef((props: TinyLineConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyLine, TinyLineConfig>(G2plotTinyLine, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyLineChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Waterfall as G2plotWaterfall, WaterfallOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface WaterfallConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst WaterfallChart = forwardRef((props: WaterfallConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotWaterfall, WaterfallConfig>(G2plotWaterfall, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default WaterfallChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { WordCloud as G2plotWordCloud, WordCloudOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface WordCloudConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst WordCloudChart = forwardRef((props: WordCloudConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotWordCloud, WordCloudConfig>(G2plotWordCloud, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default WordCloudChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Sunburst as G2plotSunburst, SunburstOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface SunburstConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst SunburstChart = forwardRef((props: SunburstConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotSunburst, SunburstConfig>(G2plotSunburst, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default SunburstChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Stock as G2plotStock, StockOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface StockConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst StockChart = forwardRef((props: StockConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotStock, StockConfig>(G2plotStock, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default StockChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { RadialBar as G2plotRadialBar, RadialBarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface RadialBarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RadialBarChart = forwardRef((props: RadialBarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRadialBar, RadialBarConfig>(G2plotRadialBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RadialBarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Sankey as G2plotSankey, SankeyOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface SankeyConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst SankeyChart = forwardRef((props: SankeyConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotSankey, SankeyConfig>(G2plotSankey, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default SankeyChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Treemap as G2plotTreemap, TreemapOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\nexport interface TreemapConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TreemapChart = forwardRef((props: TreemapConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTreemap, TreemapConfig>(G2plotTreemap, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TreemapChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Violin as G2plotViolin, ViolinOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface ViolinConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ViolinChart = forwardRef((props: ViolinConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotViolin, ViolinConfig>(G2plotViolin, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ViolinChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Venn as G2plotVenn, VennOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface VennConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst VennChart = forwardRef((props: VennConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotVenn, VennConfig>(G2plotVenn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default VennChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { CirclePacking as G2plotCirclePacking, CirclePackingOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface CirclePackingConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst CirclePackingChart = forwardRef((props: CirclePackingConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotCirclePacking, CirclePackingConfig>(G2plotCirclePacking, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default CirclePackingChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Facet as G2plotFacet, FacetOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface FacetConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst FacetChart = forwardRef((props: FacetConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotFacet, FacetConfig>(G2plotFacet, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default FacetChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Mix as G2plotMix, MixOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface MixConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {\n  chartType?: string;\n}\n\nconst MultiViewChart = forwardRef((props: MixConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotMix, MixConfig>(G2plotMix, { ...rest, chartType: 'Mix' });\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default MultiViewChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { BidirectionalBar as G2plotBidirectionalBar, BidirectionalBarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\n\nexport interface BidirectionalBarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BidirectionalBarChart = forwardRef((props: BidirectionalBarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBidirectionalBar, BidirectionalBarConfig>(G2plotBidirectionalBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BidirectionalBarChart;\n","import Area from './components/area';\nimport Bar from './components/bar';\nimport Bullet from './components/bullet';\nimport Column from './components/column';\nimport Funnel from './components/funnel';\nimport Histogram from './components/histogram';\nimport Line from './components/line';\nimport Box from './components/box';\nimport Liquid from './components/liquid';\nimport Heatmap from './components/heatmap';\nimport Pie from './components/pie';\nimport Gauge from './components/gauge';\nimport Progress from './components/progress';\nimport Radar from './components/radar';\nimport RingProgress from './components/ring-progress';\nimport Rose from './components/rose';\nimport Chord from './components/chord';\nimport Scatter from './components/scatter';\nimport TinyArea from './components/tiny-area';\nimport TinyColumn from './components/tiny-column';\nimport DualAxes from './components/dual-axes';\nimport TinyLine from './components/tiny-line';\nimport Waterfall from './components/waterfall';\nimport WordCloud from './components/word-cloud';\nimport Sunburst from './components/sunburst';\nimport Stock from './components/stock';\nimport RadialBar from './components/radial-bar';\nimport Sankey from './components/sankey';\nimport Treemap from './components/treemap';\nimport Violin from './components/violin';\nimport Venn from './components/venn';\nimport CirclePacking from './components/circle-packing';\nimport Facet from './components/facet';\nimport MultiView from './components/mix'; //  Mix \nimport Mix from './components/mix';\nimport BidirectionalBar from './components/bidirectional-bar';\nimport { G2, flow, measureTextWidth, adaptors, getCanvasPattern, FUNNEL_CONVERSATION_FIELD } from '@antv/g2plot';\n\nexport {\n  Area,\n  Bar,\n  Box,\n  Bullet,\n  Column,\n  Funnel,\n  Histogram,\n  Line,\n  Liquid,\n  Heatmap,\n  Pie,\n  Progress,\n  Radar,\n  Facet,\n  RingProgress,\n  Rose,\n  Chord,\n  Scatter,\n  TinyArea,\n  TinyColumn,\n  TinyLine,\n  Waterfall,\n  WordCloud,\n  Sunburst,\n  DualAxes,\n  Stock,\n  RadialBar,\n  CirclePacking,\n  Gauge,\n  Sankey,\n  Treemap,\n  Violin,\n  Venn,\n  MultiView,\n  Mix,\n  BidirectionalBar,\n  G2,\n  //  G2Plot \n  getCanvasPattern,\n  FUNNEL_CONVERSATION_FIELD,\n  flow,\n  measureTextWidth,\n  adaptors,\n};\n\nexport default {\n  Area,\n  Bar,\n  Box,\n  Bullet,\n  Column,\n  Funnel,\n  Histogram,\n  Line,\n  Liquid,\n  Heatmap,\n  Pie,\n  Progress,\n  Radar,\n  Facet,\n  RingProgress,\n  Rose,\n  Chord,\n  Scatter,\n  TinyArea,\n  TinyColumn,\n  TinyLine,\n  Waterfall,\n  WordCloud,\n  Sunburst,\n  DualAxes,\n  Stock,\n  RadialBar,\n  Gauge,\n  CirclePacking,\n  Sankey,\n  Treemap,\n  Violin,\n  Venn,\n  MultiView,\n  Mix,\n  BidirectionalBar,\n  //  G2Plot \n  getCanvasPattern,\n  FUNNEL_CONVERSATION_FIELD,\n  G2,\n  flow,\n  measureTextWidth,\n  adaptors,\n};\n\nexport * from './interface';\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__787__","__WEBPACK_EXTERNAL_MODULE__71__","EventEmitter","_events","prototype","on","evt","callback","once","push","emit","_this","args","_i","arguments","length","events","wildcardEvents","doEmit","es","i","_a","splice","apply","off","length_1","getEvents","_super","Base","cfg","call","destroyed","defaultCfg","getDefaultCfg","mix","__extends","get","name","set","value","destroy","EE","taskHead","taskTail","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","bind","f","setTimeout","clearNow","Timer","this","_call","_time","_next","timer","delay","time","t","restart","wake","e","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","constructor","extend","parent","definition","Object","create","key","Color","TypeError","stop","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","concat","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","m","l","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","NaN","n","r","g","b","a","opacity","o","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","Math","max","min","round","toString","h","s","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","basis","v0","v1","v2","v3","t3","copy","channels","assign","displayable","formatHex8","formatHsl","k","pow","clamp","x","nogamma","d","linear","constant","rgbGamma","y","exponential","gamma","start","end","colorRgb","rgbSpline","spline","colors","Array","c","slice","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","values","floor","reA","reB","source","am","bm","bs","bi","lastIndex","q","index","number","one","zero","join","string","date","numberArray","isArray","valueOf","object","IDENTITY_MATRIX","update","shape","animation","elapsed","ratio","startTime","_paused","duration","easing","easeFn","getEasing","repeat","onFrame","attr","toAttrs","attrs","val","cProps","fromAttrs","interf","isEqual","toPath","fromPath","PathUtil","path","pathFormatted","toPathPoint","fromPathPoint","cPathPoint","j","isNumber","interpolate","currentMatrix","includes","test","isFunction","_update","Timeline","canvas","animators","current","initTimer","animations","d3Timer","removeAnimator","isAnimatePaused","draw","addAnimator","isAnimating","stopAllAnimations","toEnd","forEach","animator","stopAnimate","getTime","EVENTS","emitTargetEvent","target","type","eventObj","currentTarget","delegateTarget","bubbleEvent","container","bubbles","relativeShape","isOverEvent","fromShape","toShape","isCanvas","isParent","EventController","draggingShape","dragging","currentShape","mousedownShape","mousedownPoint","_eventCallback","ev","_triggerEvent","_onDocumentMove","pointInfo","_getPointInfo","_emitEvent","_onDocumentMouseUp","_afterDrag","init","_bindEvents","el","each","eventName","addEventListener","document","_clearEvents","removeEventListener","_getEventObj","event","point","GraphEvent","clientX","clientY","propagationPath","_getShape","getShape","clientPoint","getClientByEvent","getPointByEvent","method","leaveCanvas","preShape","style","cursor","_onmousedown","button","mousedownTimeStamp","timeStamp","_emitMouseoverEvents","_emitDragoverEvents","isCanvasEmit","_onmouseup","_ondragover","preventDefault","_onmousemove","timeWindow","dx","dy","parent_1","getParent","emitDelegation","propagationStopped","browser","detect","isFirefox","Canvas","initContainer","initDom","initEvents","initTimeline","isString","getElementById","createDom","appendChild","setDOMSize","eventController","timeline","width","height","isBrowser","changeSize","onCanvasChange","getRenderer","getCursor","setCursor","isNil","layerX","offsetX","layerY","offsetY","getPointByClient","clientInfo","touches","changedTouches","bbox","getBoundingClientRect","left","top","getClientByPoint","removeDom","parentNode","removeChild","clearEvents","clear","Container","SHAPE_MAP","INDEX","setCanvas","element","isGroup","children","child","setTimeline","getBBox","minX","maxX","minY","maxY","getChildren","filter","childMinX","childMaxX","childMinY","childMaxY","getCanvasBBox","onAttrChange","originValue","totalMatrix","getTotalMatrix","_applyChildrenMarix","applyMatrix","matrix","preTotalMatrix","addShape","isObject","shapeType","upperFirst","getShapeBase","add","addGroup","group","groupClass","tmpCfg","getGroupBase","getCanvas","isAllowCapture","_findShape","v","invertFromMatrix","isClipped","isHit","preParent","removeFromArray","_applyElementMatrix","sort","compare","obj1","obj2","right","result","getFirst","getChildByIndex","getLast","getCount","contain","indexOf","remove","findAll","fn","rst","find","findById","id","findByClassName","className","findAllByName","Element","transform","ext","MATRIX","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","getDefaultAttrs","initAttrs","initAnimate","visible","capture","zIndex","getDefaultMatrix","changeType","setAttr","afterAttrsChange","refX","refY","clip","getClip","targetAttrs","isClipShape","applyTo","show","hide","setZIndex","toFront","toBack","unshift","resetMatrix","getMatrix","setMatrix","parentMatrix","multiplyMatrix","applyToMatrix","multiplyVec2","invertMatrix","invert","setClip","clipCfg","clipShape","Cons","clone","originAttrs","arr","_cloneArrayAttr","cons","cfgName","isPaused","animate","pauseCallback","resumeCallback","animateCfg","_b","noop","_c","formatToAttrs","props","getFormatToAttrs","uniqueId","item","checkExistedAttrs","pauseAnimate","pauseTime","_pauseTime","resumeAnimate","paths","name_1","subName","emitDelegateEvent","this_1","delegateObject","translate","translateX","translateY","newMatrix","move","targetX","targetY","moveTo","scale","ratioX","ratioY","rotate","radian","rotateAtStart","rotateAtPoint","AbstractGroup","isEntityGroup","AbstractShape","_isInBBox","clearCacheBBox","calculateBBox","canvasBBox","calculateCanvasBBox","topLeft","topRight","bottomLeft","bottomRight","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowLeft","shadowRight","shadowTop","shadowBottom","isInShape","isOnlyHitBox","startArrowShape","endArrowShape","vec","inBBox","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","exponent","polyOut","polyInOut","pi","PI","halfPi","sinIn","cos","sinOut","sin","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","sqrt","circleOut","circleInOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","elasticIn","p","asin","amplitude","period","elasticOut","elasticInOut","EASING_MAP","d3Ease","registerEasing","cache","Map","register","getMethod","mergeBBox","bbox1","bbox2","mergeArrowBBox","getExtraFromSegmentWithAngle","segment","lineWidth","prePoint","currentPoint","nextPoint","currentAndPre","currentAndNext","preAndNext","currentAngle","acos","isNumberEqual","xExtra","yExtra","xAngle","abs","atan2","yAngle","rect","circle","points","xArr","yArr","Util","text","fontSize","lineHeight","font","assembleFont","getTextWidth","textAlign","textBaseline","getTextHeight","stroke","segments","segmentsWithAngle","params","box","command","QuadUtil","CubicUtil","arcParams","EllipseArcUtil","cx","cy","rx","ry","xRotation","startAngle","endAngle","Number","getPathBox","path2Segments","x1","y1","x2","y2","defaultPrevented","originalEvent","stopPropagation","save","restore","version","out","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","det","offScreenCtx","getOffScreenContext","createElement","getContext","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","u","z","data","String","replace","catmullRomToBezier","crp","iLen","ellipsePath","res","rad","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","toUpperCase","pa","ii","jj","pop","kk","l2c","q2c","ax","ay","_13","_23","a2c","angle","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","toFixed","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m3","m4","newres","split","pathToCurve","path2","p2","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","shift","fixM","path1","a1","a2","seg","seg2","seglen","seg2len","parseFloat","p2s","parsePathArray","base3","p1","p3","p4","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","x0","y0","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","px","py","px2","py2","isPointInsideBBox","rectPath","w","r1","r2","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","alpha","interHelper","bez1","bez2","justCount","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","reverse","fillPath","sourceLen","targetLen","segmentsToFill","filled","reduce","count","leftSegments","map","cmd","splitCurve","temp","splitSegment","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","dist","levenshteinDistance","changes","minPos","diff","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","lineCount","spaceingY","getLineSpaceing","context","textArr","subText","measureWidth","measureText","fontFamily","fontWeight","fontStyle","fontVariant","obj","distance","getBBoxByArray","getBBoxRange","piMod","pointAt","pointDistance","cross","pointToLine","vec2","tangentAngle","nearestPoint","tCallback","segNum","increaseRate","_t","d1","prev","next","d2","quadraticAt","p0","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","line","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","undefined","interpolationAt","divide","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","copysign","absv","xAt","yAt","getPoint","xDim","atan","xs","yDim","ys","relativeVector","relativePoint","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","hypot","ellipse","getAngle","vector","derivativeXAt","derivativeYAt","analyzePoints","from","to","lengthOfSegment","startRatio","currentRatio","localRatio","pointAtSegments","minDistance","distance_1","distanceAtSegment","angleAtSegments","leftTranslate","transMat","mat3","leftRotate","rotateMat","leftScale","scaleMat","actions","len","action","angleTo","direct","ang","angleLargeThanPI","direction","regexTags","regexDot","match","tag","charAt","substr","sub","constraint","isLoop","pointList","cp1","cp2","controlPointList","smooth","prevPoint","nextCp0","cp0","cps","hasConstraint","d0","smoothBezier","REGEX_MD","toSymmetry","needProcess","first","preParams","upCmd","symetricT","symetricS","vMag","vRatio","vAngle","isSamePoint","point1","point2","getArcParams","startPoint","mod","toRadian","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","center","getSegments","nextParams","startMovePoint","lastStartMovePointIndex","parsePath","startTangent","endTangent","cp","preSegment","_d","_e","_f","_g","_h","dx1","dy1","dx2","dy2","tolerance","dcmp","onSegment","isInPolygon","isBetween","parseToLines","lines","last","isPolygonsIntersect","points1","points2","box1","box2","isIn","isPointInPolygon","lines1","lines2","isIntersect","E","D0","D1","kross","getLineIntersect","lineIntersectPolygon","isFinite","isArrayLike","func","contains","isType","elements","keys","_keys","isObjectLike","getPrototypeOf","proto","predicate","_predicate","isPlainObject","isMatch","fromIndex","curr","filterValues","tmp","getMax","getMin","arrPrototype","indexes","previous","pullAt","str","comparer","keys_1","prop","uniq","has","tmpMap","head","condition","groupToMap","paramscondition_1","row","unique","groupBy","groups","array","base","isInteger","PRECISION","precision","maxItem","minItem","RADIAN","degree","substring","objectProto","HTMLDocument","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","wait","immediate","callNow","resolver","memoized","_deepMix","src","level","maxLevel","getType","size","Ctor","isPrototype","other","valueKeys","otherKeys","identity","_mix","src1","src2","src3","defaultValue","keyArr","idx","options","later","leading","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","__spreadArrays","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","__spreadArray","pack","ar","BrowserInfo","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","ua","matchedRule","matched","regex","uaMatch","matchUserAgent","versionParts","output","createVersionParts","detectOS","searchBotMatch","zeros","dot","ret","norm2","weightedSum","w1","w2","wolfeLineSearch","pk","phi0","fx","phiPrime0","fxprime","phi","phi_old","phiPrime","a0","zoom","a_lo","a_high","phi_lo","iteration","bisect","parameters","maxIterations","fA","fB","delta","mid","fMid","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","history","sortedSimplex","state","worst","shouldReduce","conjugateGradient","initial","yk","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","inner","zerosM","ARRAY_TYPE","Float32Array","random","multiply","fromTranslation","fromRotation","fromScaling","subtract","normalize","transformMat3","mag","cosine","exactEquals","glMatrix","findMin","findMax","findMinMulti","findMaxMulti","inside","LN_2","log","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","step","normalizedMinMax","range","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","weight","startGradPos","gradAccumulator","area","getExpectedValueFromPdf","pdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","defineProperty","SizeSensorId","SensorTabIndex","SensorClassName","_len","_key","_sensorPool","cb","sensor","getSensor","unbind","removeSensor","Sensors","_id","__esModule","_sensors","_constant","clean","sensorId","getAttribute","newId","setAttribute","createSensor","_object","_resizeObserver","ResizeObserver","_debounce","whenDestroy","listeners","resizeListener","listener","contentDocument","defaultView","removeAttribute","getComputedStyle","position","onload","display","overflow","pointerEvents","newSensor","disconnect","observe","extendStatics","setPrototypeOf","__proto__","__","__assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","done","then","__generator","body","_","label","sent","trys","ops","verb","Symbol","iterator","op","__values","__read","error","il","jl","SuppressedError","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","enumerable","toStringTag","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","GROUP_ATTRS","FIELD_ORIGIN","ENGINES","getEngine","G","Error","registerEngine","engine","tr","tbody","thead","tfoot","td","th","$1","innerHTML","dom","childNodes","modifyCSS","css","getChartSize","ele","autoFit","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","getElementSize","changeVisible","Adjust","xField","yField","adjustNames","dimValuesMap","isAdjust","dim","getAdjustRange","dimValue","pre","adjustData","groupedDataArray","mergedData","getDimValues","dataArray","adjustDim","groupData","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","Dodge","cacheMap","adjustDataArray","mergeData","marginRatio","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","xDimensionLegenth","groupDataArray","frameIndex","getDistribution","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","margin","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","Jitter","adjustGroup","getAdjustOffset","Cache","Stack","reverseOrder","processStack","processOneDimStack","positive","negative","xKey","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","yValue","off_1","offset","getDimMaxValue","dimValues","flattenValues","toScaleString","Attribute","names","scales","_parseCfg","mapping","param","_toOriginParam","getLinearValue","percent","steps","leftPercent","getNames","getFields","field","getScale","defaultCallback","_getAttributeValue","isCategory","isLinear","RGB_REG","regexLG","regexRG","regexColorStop","getValue","arr2rgb","toHex","iEl","rgb2arr","x16Value","toRGB","title","getPropertyValue","gradient","colorArray","fixedPercent","calColor","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","colorUtil","Opacity","Position","scaleX","scaleY","xi","yi","Shape","Size","methodCache","registerTickMethod","Scale","isContinuous","isIdentity","ticks","__cfg__","initCfg","change","getTicks","tick","getText","tickValue","formatter","getConfig","setDomain","isEmpty","calculateTicks","tickMethod","rangeMin","rangeMax","calcPercent","calcValue","Category","buildIndexMap","translateIndexMap","order","scaledValue","domainRange","token","twoDigitsOptional","twoDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","args_1","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","parse","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","requiredField","matches","dateTZ","parser","validateFields","UTC","FORMAT_METHOD","timeFormat","fecha1","fecha","toTimeStamp","isDate","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","TimeCat","tickIndex","tickCount","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","getRange","nice","getInvertPercent","Linear","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","minTickInterval","Quantize","minIndex","minTick","minIndexPercent","Quantile","getClass","registerClass","cls","Identity","calculateCatTicks","tickInterval","showLast","ticks_1","lastValue","e10","e5","e2","D3Linear","_domain","domain","i0","i1","tickIncrement","ceil","d3ArrayTicks","power","LN10","snapMultiple","snapType","intervalTicks","maxTick","fixedBase","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","prettyNumber","DEFAULT_Q","eps","EPSILON","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","half","pretty","log10","unit","nu","ns","hi","lo","quantileSorted","getYear","createYear","creatMonth","cat","catTicks","onlyLoose","step_1","fill","best","score","sm","dm","cm","minStart","maxStart","i_1","lStep","extended","_lo","_hi","getTickInterval","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","console","warn","avg","sorted","d3Linear","registerScale","ATTRIBUTE_MAP","registerAttribute","Coordinate","isRect","isHelix","isPolar","isReflectX","isReflectY","isTransposed","originalMatrix","convertDim","isReflect","invertDim","vec3","inverted","convert","convertPoint","invertPoint","reflect","transpose","getCenter","getWidth","getHeight","getRadius","radius","Cartesian","Helix","innerRadius","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","registerCoordinate","propagationDelegate","eventObject","identityMatrix","getMatrixByAngle","getMatrixByTranslate","applyRotate","applyTranslate","translateMatrix","formatPadding","padding","bottom","clearDom","regionToBBox","region","createBBox","getValueByPercent","getCirclePoint","near","getBBoxWithClip","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","toPx","getTextPoint","offsetPercent","LOCATION_FIELD_MAP","none","Component","locationType","updateAutoRender","animateOption","appear","enter","leave","newCfg","deepMix","updateInner","afterUpdate","hasKey","setCapture","getLayoutBBox","getLocationType","getOffset","setOffset","setLocation","location","getLocation","fields","isList","isSlider","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","shapesMap","isRegister","isUpdating","isInit","clearOffScreenCache","getChildComponentById","getElementByLocalId","localId","getElementId","getElementsByName","elem","getContainer","offScreenRender","render","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","applyMatrix2BBox","initGroup","delegateEmit","createOffScreenGroup","getDelegateObject","moveElementTo","isComponent","component","renderInner","appendDelegateObject","registerElement","addComponent","restCfg","inst","unregisterElement","addAnimation","elmentName","newElement","originOpacity","removeAnimation","elementName","originElement","updateAnimation","newAttrs","newGroup","originGroup","preElement","elementId","childComponent","origChildComponent","pick","difference","replaceAttrs","getReplaceAttrs","newClipShape","updateClip","siblings","registerNewGroup","clearUpdateStatus","parentObject","deleteArray","callbackAnimCfg","removeElement","ELLIPSIS_CODE","charAtLength","charCodeAt","ELLIPSIS_CODE_LENGTH","OPTIMIZE_THRESHOLD","getMaxLabelWidth","labels","texts","maxLen","maxIdx","code","getMaxLabelWidthOptimized","ellipsisLabel","isVertical","limitLength","ellipsisText","getEllipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","newText","reserveLength","reseveLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","renderTag","tagCfg","content","maxLength","autoEllipsis","ellipsisPosition","background","tagGroup","backgroundStyle","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","LineAnnotation","Theme","autoRotate","renderLine","renderLabel","getLabelPoint","TextAnnotation","resetLocation","textGroup","ArcAnnotation","renderArc","getArcPath","endPoint","largeFlag","middlePoint","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","getImageAttrs","img","DataMarkerAnnotation","autoAdjust","coordinateBBox","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","lineLength","textShape","lineShape","xFactor","yFactor","lineDisplay","pointStyle","lineStyle","textStyle","DataRegionAnnotation","regionStyle","pointsToBBox","RegionFilterAnnotation","layer","shapeIdx","adjustShapeAttrs","fillStyle","strokeStyle","ShapeAnnotation","getStyle","HtmlComponent","containerTpl","containerClassName","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","domStyles","applyChildrenStyles","cName","styles","getElementsByClassName","applyStyle","cssName","resetPosition","HtmlAnnotation","alignX","alignY","html","isElement","bLeft","pLeft","pRight","bRight","mRight","domWidth","offsetWidth","domHeight","offsetHeight","bTop","pTop","pBottom","getOuterHeight","getStatesStyle","stateStyles","styleName","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","spacing","iconStyle","description","active","labelStyle","tickLineStyle","inactive","enable","threshold","theme","drawLine","drawTicks","drawTitle","getItems","setItems","items","updateItem","clearItems","itemGroup","setItemState","updateTickStates","hasState","getItemStates","clearItemsState","getItemsByState","getSidePoint","getSideVector","getTextAnchor","align","getTextBaseline","processOverlap","labelGroup","getLinePath","getTickLineItems","tickLineItems","tickLineLength","tickSegment","getTickPoint","tickId","getSubTickLineItems","subTickLineItems","subCount","tickLineCount","getTickLineAttrs","tickItem","tickItems","defaultTickLineStyle","drawTick","tickLineGroup","drawTickLines","tickCfg","labelId","subTickLineItems_1","processTicks","optimizeTicks","drawLabels","applyTickStates","page_1","optimizedTicks","getLabelAttrs","labelCfg","defaultLabelStyle","afterProcessTicks_1","newStyle","getTitleAttrs","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","startY","x5","y5","x6","y6","_j","x7","y7","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","states","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","getAngleByMatrix","isOverlap","minGap","overlap","prevBBox","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","labelRotate","setLabelsAngle","fixedAngle","customRotate","unfixedAngle","Line","isHorizontal","regionX","regionY","axisVector","normal","verticalVector","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","Circle","large","sweep","vecLen","CrosshairBase","textBackground","renderBackground","textPoint","textId","textBBox","LineCrosshair","CONTAINER_CLASS","CROSSHAIR_LINE","CROSSHAIR_TEXT","CssConst","backgroundColor","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","initCrossHair","crosshairEl","textEl","substitute","alignText","GridBase","alternateColor","closed","getLineType","drawGrid","getAlternatePath","prePoints","regionPath","getGridPath","reversePoints","nextPath","getPathStyle","preItem","lineId","gridPath","regionId","isEven","drawAlternateRegion","lineType","firstPoint","radius_1","sweepFlag_1","LegendBase","layout","maxHeight","getDrawPoint","setDrawPoint","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","marker","inactiveFill","inactiveOpacity","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","totalPagesCnt","pageWidth","pageHeight","onNavigationBack","updateNavigation","getCurrentNavigationMatrix","onNavigationAfter","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","itemStates","itemBackground","pageNavigator","symbol","alignRight","nameStyle","unchecked","markerStyle","itemElement","offsetGroup","drawItem","getItemHeight","processItems","drawItems","itemContainerGroup","wrapped","subGroup","adjustNavigation","style_1","items_1","drawMarker","markerCfg","markerAttrs","drawItemText","textName","xPosition","drawRadio","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","itemMarkerSpacing","nameShape","valueShape","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","navigationX_1","shouldWrap","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","leftArrowBBox","rightArrow","cursorX","updateArrowPath","arrow","itemStates_1","elName","statesStyle","ContinueLegend","track","rail","slidable","defaultLength","getCurrentValue","setRange","setValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","maxValue","preValue","curValue","currentValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","getRailPath","railCfg","getTrackColor","getTrackPath","getRailShape","getClipTrackAttrs","railBBox","getRailBBox","getPointByValue","getTrackAttrs","trackCfg","trackId","trackShape","trackAttrs","draggable","getRailCanvasBBox","isVertcal","resetHandler","getHandlerPath","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","handlerShape","railShape","minLabel","maxLabel","fixedVertail","fixedHorizontal","fitRailLength","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","changeRailPosition","railHeight","maxLabelWidth","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","visibility","transition","boxShadow","borderRadius","marginBottom","listStyleType","marginRight","marginLeft","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","limitBox","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","node","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","itemDom","BACKGROUND_STYLE","LINE_STYLE","strokeOpacity","AREA_STYLE","pointsToPath","Trend","isArea","areaStyle","catmullRom2Bezier","getSmoothLinePath","dataToPath","areaPath","lineYPx","lineY","getAreaLineY","linePathToAreaPath","DEFAULT_HANDLER_STYLE","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","Slider","onMouseDown","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","maxHandler","trend","trendCfg","minText","maxText","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","foreground","offsetRange","minBBox","maxBBox","eventType","attachEvent","detachEvent","DEFAULT_THEME","trackColor","thumbColor","lineCap","hover","Scrollbar","onStartEvent","isMobile","startPos","bindLaterEvent","thumbOffset","endPos","updateThumbOffset","onTrackClick","thumbLen","newOffset","validateRange","onThumbMouseOver","onThumbMouseOut","newValue","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","thumbShape","emitOffsetChange","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","uniqueValues","Set","polarToCartesian","centerX","centerY","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","getPointsBox","coordStartAngle","diffAngle","sourceShape","targetShape","omit","sourceArray","targetArray","sourceArray_1","sourceArray_1_1","BBox","fromRange","fromObject","subBBox","merge","cut","TOP","TOP_LEFT","TOP_RIGHT","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_TOP","LEFT_BOTTOM","shrink","gap","expand","exceed","collide","isPointIn","getXDimensionLength","getDistanceToCenter","getAngleByPoint","getCoordinateClipCfg","endState","startAngle_1","endAngle_1","center_1","startState","dateRegex","inferScaleType","scaleDef","attrType","geometryType","getName","alias","getDefaultCategoryScaleRange","isFullCircle","getAxisRegion","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","isBoolean","getAxisDirection","axisOption","getAxisTitleText","Facet","view","facets","createContainer","getData","generateFacets","renderViews","clearFacetViews","facetToView","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","createFacetViews","removeView","parseSpacing","viewBBox","getFieldValues","getRegion","rows","cols","xIndex","yIndex","xSpacing","ySpacing","xRatio","yRatio","getDefaultTitleCfg","getTheme","processAxis","getOptions","coordinateOption","geometries","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","getFacetDataFilter","conditions","datum","every","Facets","getFacet","lowerCase","registerFacet","Action","addAction","applyCfg","removeAction","CallbackAction","execute","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","_convertArr","coord","_convertArcPath","catmullRom2bezier","isInCircle","_points2path","getSplinePath","constaint","splinePath","getMaskBBox","getMaskBBoxByShape","isValidMaskBBox","maskShape","maskBBox","getMultiMaskBBoxList","maskShapes","bBox","getMaskPathByMaskShape","getCurrentElement","getDelegationObject","isElementChange","gEvent","isMask","isMultipleMask","getMaskedElements","maskPathList","getMultiMaskPathList","flatMap","maskPath","getElementsByPath","maskBBoxList","getIntersectElements","getMultiMaskedElements","getMaskPath","getSiblingMaskElements","sibling","getSiblingMaskElementsByBBox","getSiblingMultiMaskedElements","getSiblingPoint","getElements","geom","views","subView","getElementsByState","stateName","getElementsBy","getElementValue","getModel","shapeBBox","pathToPoints","shapePoints","getComponents","co","isInBox","getSilbings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","getScaleByField","Context","getAction","getCurrentPoint","HTMLElement","getCurrentShape","isInPlot","isPointInPlot","isInComponent","components","Interaction","parseAction","actionStr","arg","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","callbackCaches","emitCaches","initContext","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","isAllowStep","currentStepName","isAllowExecute","getKey","isEnable","enterStep","afterExecute","actionCallback","debounce","throttle","nameArr","Interactions","getInteraction","registerInteraction","interaction","createThemeByStyleSheet","styleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","fillOpacity","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createAxisStyles","legendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createLegendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","polygon","square","bowtie","diamond","hexagon","triangle","plus","hyphen","schema","candle","edge","arc","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginTop","float","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","registerTheme","snapEqual","value1","value2","filterYValue","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","getAttributesForLegend","attributes_1","attributes_1_1","tmpScale","scaleDefs","xScale","getXScale","findDataByPoint","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipTitle","titleField","titleScale","getTooltipTitle","tooltipOption","addItem","mappingData","callbackParams","itemCfg","fields_1","fields_1_1","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","dataArray_1","dataArray_1_1","elementsMap","getTooltipItemsByHitShape","findItemsFromView","geometries_1","geometries_1_1","tooltipItems","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","CoordinateController","option","wrapperOption","hasAction","some","isTheta","C","execActions","adjust","sx","sy","getOption","includeActions","Event","fromData","GEvent","defaultLayout","getController","controller","ScalePool","syncScales","createScale","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","validData","firstValue","valuesOfKey","getDefaultType","createScaleByField","sync","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","deleteScale","PaddingCal","instance","inc","getPadding","defaultSyncViewPadding","chart","PC","syncPadding","autoPadding","View","controllers","interactions","limitInPlot","usedControllers","scalePool","layoutFunc","isPreMouseInPlot","isDataChanged","isCoordinateChanged","createdScaleKeys","onCanvasEvent","createViewEvent","doPlotEvent","onDelegateEvents","backgroundGroup","middleGroup","foregroundGroup","appendPadding","syncViewPadding","setLayout","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","labelsContainer","getRootView","AFTER_CLEAR","BEFORE_DESTROY","filters","legendOption","scaleOption","guide","coordinateCfg","coordinateController","facetInstance","status","updateOptions","opt","existInteraction","interaciton","createInteraction","removeInteraction","changeData","BEFORE_CHANGE_DATA","AFTER_CHANGE_DATA","sharedOptions","legends","removedView","getYScales","yScales","getScalesByDim","dimType","defaultKey","getScaleKey","getOriginalData","getGeometries","BG","MID","isPointInCoordinate","getLegendAttributes","flatten","getGroupAttributes","getXY","xScales","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","getSnapRecords","dataLen","snapRecords","filterData","filterFieldData","isUndefined","adjustCoordinate","curStart","curEnd","bl","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","initComponents","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","componentPadding","componentBBox","calculatePadding","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","doFilterData","createCoordinate","initGeometries","renderFacet","controllerName","currentInPlot","newEvent","TYPE","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","scaleOptions","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","Chart","renderer","pixelRatio","localRefresh","supportCSSTransform","defaultInteractions","wrapperElement","onResize","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","aria","ariaOption","ATTR","BEFORE_CHANGE_SIZE","AFTER_CHANGE_SIZE","unbindAutoFit","verticalAlign","Controller","includeOption","isLocked","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","guideGroup","reset","tooltipCrosshairsGroup","items_1_1","itemArr_1","e_2","itemArr_1_1","snapItem","items_2","items_2_1","aItem","yDistance","uniqItems","subItem","isCursorEntered","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","items_3","items_3_1","attrs_1","markerDefaultCfg","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","textCfg","firstItem","getGuideGroup","childView","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","animateType","doAnimate","parsedAnimateCfg","parseAnimateConfig","animateFunction","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","model","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","setState","stateStatus","sortZIndex","zIndexReversed","offscreenShape","clearStates","labelBBox","stateOption","defaultShapeType","stateTheme","getStateStyle","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","ShapeBase","parsedPath","cur","subPath","curPoint","angleRange","flag","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","convertPolarPath","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","Geometry","attributeOption","lastElementsMap","generatePoints","beforeMappingData","adjusts","idFields","hasSorted","sortable","useDeferredLabel","userTheme","positionCfg","createAttrOption","adjustCfg","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customInfo","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","beforeMapping","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","deferred","renderLabels","requestIdleCallback","geometryLabel","getDefaultValue","attrName","getAttributeValues","adjustType","getShapeMarker","shapeName","xVal","yVal","length_2","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","attributeName","getXField","getYField","getShapes","mappingArray","xScale_1","xField_1","updateStackRange","createShapePointsCfg","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","defaultStyle","getStyleCfg","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1","added_1_1","updated_1","updated_1_1","currentShapeCfg","preShapeCfg","removed_1","removed_1_1","getLabelType","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","categoryScales_1","e_4","categoryScales_1_1","xScale_2","sizeAttr","adjustCtor","getAdjustClass","adjustInstance","appendConditions","values_1","values_1_1","eachGroup","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","GeometryLabelsCtor","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","rotateRadian","getRotateMatrix","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","checkShapeOverlap","dones","updateLabel","updateAnimateCfg","fromChild","toChild","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","deleteShape","shapeAppendCfg","isShape","isNull","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","backgroundShape","GeometryLabel","getLabelItems","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelAlign","getLabelsRenderer","getGeometryShapes","getDefaultLabelCfg","getThemedLabelCfg","defaultLabelCfg","setLabelPosition","labelPointCfg","getLabelOffset","getOffsetVector","getLabelOffsetPoint","transposed","offsetPoint","getDimValue","isAvg","isFunnel","getPolygonCentroid","getLabelId","labelScales","callbackCfg","originText","getLabelText","originValues","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","startsWith","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","scaleValue","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","leftPoints","rightPoints","leftPath","rightPath","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","VERSION","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","inBox","intersectRect","regexPR","addStop","addColorStop","parseStyle","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fy","fr","createRadialGradient","parseRadialGradient","patternStr","pattern","createPattern","Image","crossOrigin","complete","parsePattern","CanvasPattern","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","_addCustomizedArrow","startArrow","endArrow","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isInView","drawPath","arcParamsCache","beginPath","ArrowUtil","tangent","getStartTangent","getEndTangent","lineTo","quadraticCurveTo","bezierCurveTo","closePath","refreshElement","_cacheCanvasBBox","Group","_applyClip","createPath","_afterDraw","viewRange","getViewRange","allowDraw","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isInStrokeOrPath","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","nodeName","ImageShape","_setImage","_afterLoading","image_1","swidth","sheight","drawImage","inLine","LineUtil","setArrow","startArrowDistance","endArrowDistance","getTotalLength","Symbols","Marker","_resetParamsCache","_getR","_getPath","path2Absolute","isPointInPath","hasArc","extractPolygons","polygons","polylines","isPointInStroke","inArc","isInPolygons","_setPathArr","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","r3","r4","parseRadius","Text","_assembleFont","_setText","_getSpaceingY","_drawTextArr","subY","fillText","strokeText","_drawText","getRefXY","preTest","curShape","getPixelRatio","devicePixelRatio","_clearFrame","clearRect","_getRefreshRegion","viewRegion","minXArr","minYArr","maxXArr","maxYArr","region1","region2","cacheBox","validCache","validBBox","getRefreshRegion","getMergedRegion","mergeView","drawFrame","clearAnimationFrame","_startDraw","_drawAll","_drawRegion","AbstractCanvas","SHAPE_TO_TAGS","polyline","SVG_ATTR_MAP","lineDashOffset","miterLimit","preserveAspectRatio","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","targetIndex","nodeType","currentIndex","insertBefore","targetNext","children_1","canFill","canStroke","shadow","_setColor","addGradient","addPattern","blur","addShadow","setShadow","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","Shadow","_parseShadow","config","Arrow","_setDefaultPath","_setMarker","Clip","shapeEl","Pattern","Defs","defaultArrow","autoDraw","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","yItem","Area","startOnZero","Edge","Heatmap","paletteCache","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","data_1","data_1_1","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","colorAttr","pixels","palette","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","minLength","getBackgroundRectPath","isReflectYTransposed_1","bump","opposite","getFunnelPath","isPyramid","swap","xValues","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","backgroundCfg","backgroundPath","getRectWithCornerRadius","coor","getIntervalRectPath","Interval","SHAPES","drawPoints","pointPosition","points_1","points_1_1","Point","subX","xOffset","yOffset","Schema","sizeArr","num","normalizeSize","_size","isMin","isMax","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","getSmoothPath","CORNER_PERCENT","getVHVPath","getTickPoints","getTickPath","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandlePoints","yValues","targetLength","padValue","padEnd","sourceLength","getCandleYValues","getRectAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","getInterpolateShapeAttrs","getBoxPath","getCandlePath","IntervalLabel","getLabelValueDir","dir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","PieLabel","isLabelLimit","antiCollision","plotRange","invisible","overlapping","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","Greedy","bitmap","xGap","yGap","hasGap","fillGap","adjustLabelPosition","getAxes","deg","getProjection","scalars","isValidBox","isIntersectRect","rect1Points","rect2Points","projection1","projection2","MyWorker","url","queue","worker","Worker","onmessage","onmessageerror","post","onError","postMessage","terminate","generateUtils","methods","eventData","JSON","blob","Blob","BlobBuilder","append","getBlob","URL","createObjectURL","createWorker","layoutCode","preset","hasSome","rightText","getCanvasContext","doScaleAnimate","endMatrix","scaledMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","renderTitle","avgAngle","facetR","facetData","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","columnValues","rowValues","Tree","afterChartRender","drawLines","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1","e_1","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","Annotation","foregroundContainer","backgroundContainer","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","createAnnotation","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","extra","regionFilter","parsePosition","xPos","yPos","parsePercentPosition","getRegionPoints","viewData","startXValue","endXValue","getCoordinateBBox","sp","ep","textContent","start_5","end_5","apply_1","shapes_1","addShapes_1","render_1","restOptions","_k","html_1","getComponentContainer","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","onChangeFn","resetMeasure","onValueChange","changeViewData","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","cnt","xScaleCfg","yScalesCfg","getScrollbarTheme","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","xScaleValues","ScrollbarComponent","realConfig","categorySize","DEFAULT_REGION_PATH_STYLE","ActiveRegion","findItemsFromViewRecurisive","getItemsOfView","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","preLoc","curLoc","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setElementState","setStateEnable","clearViewState","getItem","ElementState","ignoreListItemStates","isItemIgnore","list","setStateByComponent","setElementsStateByItem","setStateByElement","isMathItem","event_1","toggle","ElementActive","StateAction","LinkByColor","getColorScale","getLinkPath","nextElement","nextBBox","addLinkShape","activeStyle","linkByElement","getElementsByField","group_1","linkGroup","count_1","nextEl","removeLink","link","unlink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","highlight","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","ignoreItemStates","getTriggerListInfo","getAllowComponents","allowSetStateByElement","clearAllComponentsState","componentNames","allowSetStateByItem","ignoreStates","filterStates","setItemsState","triggerInfo","ListActive","ListHighlight","activeItems","clearList","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","list_1","checked","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4","items_4_1","STATUS_SHOW","TIP_ID","ListRadio","showTip","hideTip","containerId","MaskBase","starting","moving","preMovePoint","emitEvent","createMask","maskAttrs","getMaskAttrs","updateMask","maskStyle","moveStart","moveEnd","resize","CircleMask","RectMask","clampPoint","inPlot","normalStart","normalEnd","DimRect","PathMask","addPoint","getSpline","SmoothPathMask","MultipleMaskBase","recordPoints","maskType","multiPoints","recordPointStart","updateShapesCapture","getCurMaskShapeIndex","recordPointContinue","clearAll","recordPointClear","getRecordPoints","lastPoints","isCapture","findIndex","RectMultiMask","DimRectMultiMask","MultipleRectMask","CircleMultiMask","PathMultiMask","SmoothPathMultiMask","MultiplePathMask","CursorAction","pointer","crosshair","help","eResize","wResize","nResize","sResize","neResize","nwResize","seResize","swResize","nsResize","ewResize","zoomIn","zoomOut","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","hasDim","BEFORE_FILTER","normalCurrent","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonGroup","buttonCfg","getButtonCfg","drawButton","buttonShape","Drag","dragStart","drag","Move","isMoving","startMatrix","ScaleTranslate","cfgFields","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","scroll","wheelDelta","scrollbarController","nextStart","deltaY","isWheelDown","correction","nextRatio","AxisDescription","descriptionTooltipStyle","isPointInView","CanvasEngine","SVGEngine","greedy","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","labelShapes_1","labelShapes_1_1","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","memoKey","stringify","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textShapes","textBox","DOT_WIDTH","labels_1","labels_1_1","RIGHT_HALF_KEY","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","breakPoint","breakPoint3","xSign","slope1","slope2","drawLabelline","fillWhite","isContrastColorWhite","shouldInShapeSingle","shouldInShape","moveInShape","filteredLabels","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","halfHeight","originalPos","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","LEVEL","AXIS_META_CONFIG_KEYS","BRAND","getMessage","argIndex","adjustYMetaByZero","numberData","gtZero","ltZero","transformDataToNodeLinkData","sourceField","targetField","weightField","rawFields","nodes","links","nodesMap","nodesIndex","rawData","processIllegalData","WARN","deep","deepAssign","getContainerSize","flow","flows","findGeometry","getAllElements","getAllElementsRecursively","transformLabel","labelOptions","isRealNumber","normalPadding","getAdjustAppendPadding","currentAppendPadding","PADDING","resolveAllPadding","paddings","normalPaddings","finalPadding","points2Path","kebabCase","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","setStatisticContainerStyle","renderStatistic","statistic","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","renderGaugeStatistic","polarCoord","polarCenter","polarMaxY","containerWidth","template","findViewById","getViews","getSiblingViews","addViewAnimation","animationCfg","initCanvas","fillRect","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","transformMatrix","dpr","defaultDotPatternCfg","drawDot","defaultLinePatternCfg","defaultSquarePatternCfg","drawSquare","strokeRect","getCanvasPattern","dotCfg","dots_1","createDotPattern","lineCfg","Path2D","createLinePattern","squareCfg","squares","squares_1","createSquarePattern","patternOption","colorAttribute","seriesValue","seriesField","meta","annotationOptions","annotationController","yAxis","transformations","GLOBAL","locale","LocaleMap","registerLocale","localeObj","getLocale","getTooltipMapping","defaultFields","getMappingField","shapeField","styleField","mappingFields","tileMappingField","getMappingFunction","tooltipFields","columnBackground","widthRatio","groupField","otherAdaptor","stepType","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","Plot","getDefaultOptions","createG2","xAxis","chartSize","execAdaptor","bindSizeSensor","updateOption","stateObjects","addAnnotations","incoming","removeAnnotations","unbindSizeSensor","adaptor","getSchemaAdaptor","triggerResize","measure","as","sumMap","groupValue","percentage","getDataWhetherPercentage","asField","isPercent","pointMapping","areaMapping","pointState","areaState","primary","areaParams","lineGeometry","areaShape","lineMapping","chartData","tooltipOptions","lineParams","pointParams","areaGeometry","DEFAULT_OPTIONS","BUTTON_ACTION_CONFIG","buttonStyle","drawText","getInteractionCfg","interactionType","brushType","isStartEnable","BRUSH_TYPES","brushInteraction","brush","enabled","buttonConfig","INTERACTION_MAP","click","getStartStages","conversionTagFormatter","getConversionTagOptionsWithDefaults","horizontal","headSize","defaultOptions","columnStyle","percentData","getDeepPercent","stackedItem","percentYMeta","isRange","columnTooltip","customItems_1","tooltipFormatter_1","isBar","disable","disabled","conversionTag","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","connectedArea","verticalAxis","horizontalAxis","coordinateOptions","barStyle","barWidthRatio","minBarWidth","maxBarWidth","barBackground","columnAdaptor","Bar","Column","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","FUNNEL_TOTAL_PERCENT","PLOYGON_X","PLOYGON_Y","minSize","CONVERSION_TAG_NAME","transformData","formatData","maxYFieldValue","maxBy","conversionTagComponent","getLineCoordinate","formatter_1","lineOption","funnelStyle","baseGeometry","datumIndex","initLineOption","basicFunnel","compareField","showFacetTitle","formatterData","defaultFacetLabel","compareConversionTag","viewIndex","preItemX","preItemY","ConversionTagAction","rendering","conversionTag_1","basicConversionTag","FUNNEL_CONVERSION_TAG","FUNNEL_LEGEND_FILTER","interactionStart","dynamicHeight","facetFunnel","compareFunnel","dynamicHeightFunnel","Funnel","CONVERSATION_FIELD","FUNNEL_CONVERSATION_FIELD","PERCENT_FIELD","TOTAL_PERCENT_FIELD","RANGE_VALUE","RANGE_TYPE","PERCENT","DEFAULT_COLOR","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","indicator","pin","getIndicatorData","getRangeData","clampTicks","processRangeData","gaugeStyle","meter","rangeWidth","indicatorData","rangeData","rangeColor","contentOption","transformContent","STEP","stepRatio","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","GAP","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","rangeView","getBinKey","binWidth","binNumber","binHistogram","binField","stackField","originData_copy","sortBy","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","Histogram","MarkerActiveAction","getView","InteractionAction","pieStyle","ORIGIN_MATRIX","ulMatrix","PieLegendAction","getActiveElements","item_1","getActiveElementLabels","transfrom","StatisticAction","getAnnotations","_view","getInitialAnnotation","initialAnnotation","colorField_1","initialStatistic","PIE_STATISTIC","adaptOffset","defaultOffset","endsWith","isAllZero","angleField","percentageField_1","content_1","dataum","angleScale","labelLayoutType","outer","spider","labelLayoutCfg","transformStatisticOptions","titleOpt_1","contentOpt_1","dataValue","getTotalValue","metaFormatter","pieAnnotation","startStages_1","stage","Pie","prevOptions","prevData","curData","getProgressData","clampPercent","progressStyle","Progress","RingProgress","_slicedToArray","_arrayWithHoles","_arr","_n","_s","err","_iterableToArrayLimit","_nonIterableRest","xv","yv","Float64Array","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","midpoint","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","slope","XY","X2","_ols2","intercept","rSquared","tricube","updateInterval","quad","quadratic","_points2","X3","X4","X2Y","n0","X2X2","REGRESSION_MAP","exp","YL","XYL","ly","regressionLinear","loess","bandwidth","bw","yhat","residuals","robustWeights","W","denom","xk","xkw","medianResidual","_w","logarithmic","lb","lx","poly","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","YS","regressionQuad","xScaleView","yScaleView","pathData","regressionLine","algorithm","customEquation","equation","safeFormat","getRegressionEquation","reg","getMeta","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","transformOptions","isOneX","isOneY","meta_1","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","regionStyle_1","defaultConfig_1","getQuadrantDefaultConfig","equationStyle","equationStyle_1","top_1","showEquation","showEquation_1","defaultStyle_1","defaulEquationStyle_1","Scatter","BRUSH_FILTER_EVENTS","Y_FIELD","TREND_FIELD","TREND_UP","TREND_DOWN","defaultContent","risingFill","fallingFill","getStockData","open_1","close_1","high","low","stockStyle","baseMeta","Stock","getTinyData","X_FIELD","DEFAULT_TOOLTIP_OPTIONS","pointOptions","lineOptions","seriesData","TinyArea","TinyColumn","TinyLine","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","column","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","execPlotAdaptor","plot","multiView","viewOfG2","geometryAdaptor","multiPlot","plots","Association","getAssociationItems","linkField","Stage","Mix","STABLE","DEV","BETA","FIRST_AXES_VIEW","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","data1","data2","__axisPosition","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","commonInteraction","commonLimitInPlot","commonTheme","commonAnimation","leftGeometry","rightGeometry","leftLabelCfg","positionMap_1","BidirectionalBar","BOX_RANGE","BOX_SYNC_NAME","OUTLIERS_VIEW_ID","boxStyle","newData","low_1","q1_1","median_1","q3_1","high_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","syncName","Box","getSeriesFieldKey","measureField","rangeField","ds","rangeValues","flat","rKey","measureValues","mKey","targetValues","tKey","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","Bullet","nodeWidthRatio","nodePaddingRatio","sourceWeight","targetWeight","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","nodeStyle","edgeStyle","chordLayoutOptions","chordLayoutInputData","nodeById","edges","forIn","inEdges","outEdges","frequency","processGraph","localeCompare","sortNodes","outputNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","outputLinks","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","chordLayout","nodesData","isNode","edgesData","chordData","nodeGeometry","nodeView","edgeGeometry","edgeView","getAllGeometriesRecursively","Chord","RAW_FIELDS","hierarchyConfig","drilldown","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","HIERARCHY_DATA_TRANSFORM_PARAMS","DrillDownAction","historyCache","breadCrumbGroup","breadCrumbCfg","drill","drawBreadCrumb","PADDING_TOP","back","backTo","hideCrumbGroup","nodeInfo","drillData","nodeData","depth","drillDownConfig","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerBox","circles","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","a3","d3","ab","xa","xb","ya","yb","place","intersects","Node","packEnclose","aa","ca","sj","sk","enclose","required","constantZero","defaultRadius","eachBefore","radiusLeaf","eachAfter","packChildren","translateChild","_typeof","_toPropertyKey","input","hint","prim","toPrimitive","_defineProperty","configurable","writable","_arrayLikeToArray","arr2","_createForOfIteratorHelper","allowArrayLike","it","minLen","F","normalCompletion","didErr","_e2","asyncIterator","wrap","Generator","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","mark","awrap","async","rval","handle","finish","delegateYield","_callee","_regeneratorRuntime","_context","_marked","hierarchy","mapChildren","objectChildren","childs","computeHeight","copyData","that","_step","_iterator","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","node_iterator","NODE_INDEX_FIELD","CHILD_NODE_COUNT","NODE_ANCESTORS_FIELD","INVALID_FIELD_ERR_MSG","getField","defaultField","getAllNodes","index_1","eachNode","enableDrillDown","d3Hierarchy","packLayout","ancestorNode","resolvePaddingForCircle","containerSize","tempPadding","wSize","hSize","restWidthPadding","restHeightPadding","finalSize","diameter","tempAppendPadding","circleSize","nameFormatter","valueFormatter","adaptorInteraction","baseInteraction","isParentNode","inCenter","AxisType","DualAxesGeometry","CirclePacking","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","legendItemName","isGeometry","viewId","attrItems","doSliderFilter","sliderValue","geometryOptions","allLine","createViews","SORT_MAP","FIELD_KEY","adjust_1","drawSingleGeometry","themeColor","groupScale","leftView","rightView","commonAnnotation","leftLegend_1","rightLegend_1","leftItems","rightItems","yF","legendItem_1","DualAxes","facetAdaptor","facetType","restFacetCfg","viewOptions","execViewAdaptor","plotOptions","sizeRatio","heatmapStyle","checkedSizeRatio","dautm","maxSideLength","sideLength","CAT_VALUE","getLiquidData","liquidStyle","outline","wave","border","lerp","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","builtInShapeByName","cpX","cpY","waveCount","minXPoint","waveAttrs","getFillAttrs","outlineAttrs","getLineAttrs","shapePath","waves","clipPath","addWaterWave","Liquid","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","Radar","getScaleMax","maxAngle","yData","formatRadian","actualData","stackedData","valueItem","getStackedData","intervalGeometry","RadialBar","sectorStyle","Rose","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","cutoffCircle","removedData","getNodes","graphMatrix","visited","DFS","dfsNode","targetDepth","justify","sourceLinks","sumBy","maxValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultId","defaultNodes","graph","defaultLinks","computeLinkBreadths","nodes_1","targetLinks","ALIGN_METHOD","minBy","nodeId","nodeAlign","nodeWidth","nodePadding","nodeSort","sankeyLayout","sankeyLayoutOptions","nodeDepth","sankeyProcessor","linkSort","sankey","nodes_2","computeNodeLinks","nodes_3","fixedValue","computeNodeValues","maxDepth","computeNodeDepths","computeNodeHeights","columns","kx","nodes_4","columns_1","computeNodeLayers","ky","minValueBy","columns_2","nodes_6","nodes_5","reorderLinks","initializeNodeBreadths","beta","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","column_1","targetTop","dy_1","reorderNodeLinks","resolveCollisions","column_2","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","targetLinks_1","sourceLinks_1","nodes_7","extent","getNodeAlignFunction","layoutData","tx","getNodeWidthRatio","getNodePaddingRatio","transformToViewsData","sankeyLayoutInputData","dataType","isNodeLink","nodeState","edgeState","nodeDraggable","DRAG_INTERACTION","nodeInteractions","edgeInteractions","SankeyNodeDragAction","isDragging","isNodeElement","getNodeView","getEdgeView","getCurrentDatumIdx","currentElementIdx","prevNodeAnimateCfg","prevEdgeAnimateCfg","prevDatum","datumGap_1","nextDatum","edgeData","Sankey","isLast","nodesView","edgesView","SUNBURST_ANCESTOR_FIELD","SUNBURST_Y_FIELD","SUNBURST_PATH_FIELD","sunburstStyle","partition","treemapDice","positionNode","roundNode","ignoreParentValue","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","meanX","leafLeft","leafRight","preroot","ambiguous","defaultParentId","parentId","stratify","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","executeShifts","vip","vop","vom","sip","sop","sim","som","apportion","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","resquarify","_squarify","tileMethod","activeDepth","polygonAdaptor","pathFormatter","Sunburst","findInteraction","enableInteraction","enableDrillInteraction","curPath","rectStyle","basePolygon","viewZoomInteraction","Treemap","transData","drillDownInteraction","resetDrillDown","ID_FIELD","PATH_FIELD","blendMode","placeElementsOrdered","VennElementActive","syncElementsPos","VennElementHighlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","VennLabel","customLabelInfo","fillAttrs","blendObject","screen","overlay","darken","lighten","dodge","burn","colorToArr","rgbaArr","SMALL","intersectionArea","stats","intersectionPoints","circleCircleIntersection","parentIndex","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","angleDiff","circleArea","smallest","disjoint","circleOverlap","circleMargin","interior","exterior","computeTextCentre","solution","valid","areaStats","distanceFromIntersectArea","bestInitialLayout","areas","loss","lossFunction","setOverlaps","sets","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","greedyLayout","constrained","restarts","setids","matrices","distances","constraints","getDistanceMatrices","norm","xj","yj","dij","squaredDistance","constrainedMDSGradient","positions","constrainedMDSLayout","overlaps","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","c0","mode","blendRgbArr","innerBlend","g0","g1","blend","layoutVennData","vennData","initialLayout","ids","pairs","addMissingAreas","setid","setid_1","venn","minMax","xRange","yRange","getBoundingBox","xScaling","yScaling","scaling","scaleSolution","textCenters","overlapped","circleids","circleid","getOverlappingCircles","areaids","exclude","centre","computeTextCentres","circlePath","wide","intersectionAreaPath","LEGEND_SPACE","currSets","filterSets","legalArr","testArr","islegalSets","schemaGeometry","colorOptions","map_1","transformColor","vennInteraction","MAP_1","Venn","VIOLIN_Y_FIELD","VIOLIN_SIZE_FIELD","MIN_MAX_FIELD","QUANTILE_FIELD","MEDIAN_FIELD","VIOLIN_VIEW_ID","MIN_MAX_VIEW_ID","QUANTILE_VIEW_ID","MEDIAN_VIEW_ID","kde","sampleSize","violinStyle","quickselect","sd","quantile","indices","quantileIndex","stack","quantileSelect","multiQuantileSelect","results","toBoxValue","q1","q3","toViolinValue","pdfOptions","pdfResults","violinSize","violinY","transformViolinData","resultList","seriesGroup","series","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","waterfallStyle","processed","newYField","dIdx","localeTotalLabel","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","Waterfall","WORD_CLOUD_COLOR_FIELD","timeInterval","wordStyle","rotationSteps","rotateRatio","spiral","wordCloud","words","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","cloudCanvas","cloud","board","dt","cloudCollide","sprite","sw","msx","contextAndRatio","willReadFrequently","cw","ch","zeroArray","tags","cloudSprite","hasText","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","imageMask","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","xoff","yoff","seen","seenRow","archimedean","rectangular","sign","rawOptions","chartPadding","wordField","placementStrategy","numbers","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","resolvePadding","fMin_1","fMax_1","resolveRotate","perSize","getTextAttrs","WordCloud","rej","HTMLImageElement","onerror","ERROR","general","increase","decrease","waterfall","adaptors","ownKeys","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","createRoot","fullClone","_objectSpread","reactRender","unmountComponentAtNode","toggleWarning","skip","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","usingClientEntryPoint","MARK","TOOLTIP_CONTAINER_MAPPING","uuid","mountPoint","modernRender","legacyRender","deepClone","hasPath","_current","useInit","ChartClass","useRef","chartOptions","onReady","onEvent","reactDomToString","_uuid","statisticCustomHtml","setPath","statisticDom","createNode","processConfig","useEffect","_chartOptions$current","currentConfig","_excluded","inputConfig","_excluded2","currentKeys","chartInstance","encoderOptions","_chart$current","downloadImage","_chart$current2","imageName","base64","href","download","getChart","chartRef","_defineProperties","descriptor","_assertThisInitialized","ReferenceError","_setPrototypeOf","_getPrototypeOf","ErrorBoundary","_React$Component","subClass","superClass","_inherits","Constructor","protoProps","staticProps","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","Super","NewTarget","_classCallCheck","hasError","renderError","errorTemplate","React","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","message","nextProps","Fragment","SVG","backgroundOpacity","baseUrl","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","fixedId","idClip","idGradient","idAria","rtlStyle","keyTimes","dur","role","stopColor","stopOpacity","repeatCount","defaultProps","ContentLoader","ReactContentLoaderFacebook","viewBox","_ref","loadingTemplate","_ref$theme","AreaChart","forwardRef","ref","_props$style","loading","_useChart","useChart","G2plotArea","useImperativeHandle","ChartLoading","BarChart","G2plotBar","BulletChart","G2plotBullet","ColumnChart","G2plotColumn","FunnelChart","G2plotFunnel","HistogramChart","G2plotHistogram","LineChart","G2plotLine","BoxChart","G2plotBox","LiquidChart","G2plotLiquid","HeatmapChart","G2plotHeatmap","PieChart","G2plotPie","GaugeChart","G2plotGauge","ProgressChart","G2plotProgress","RadarChart","G2plotRadar","RingProgressChart","G2plotRingProgress","RoseChart","G2plotRose","ChordChart","G2plotChord","ScatterChart","G2plotScatter","TinyAreaChart","G2plotTinyArea","TinyColumnChart","G2plotTinyColumn","DualAxesChart","G2plotDualAxes","TinyLineChart","G2plotTinyLine","WaterfallChart","G2plotWaterfall","WordCloudChart","G2plotWordCloud","SunburstChart","G2plotSunburst","StockChart","G2plotStock","RadialBarChart","G2plotRadialBar","SankeyChart","G2plotSankey","TreemapChart","G2plotTreemap","ViolinChart","G2plotViolin","VennChart","G2plotVenn","CirclePackingChart","G2plotCirclePacking","FacetChart","G2plotFacet","MultiViewChart","G2plotMix","chartType","BidirectionalBarChart","G2plotBidirectionalBar","MultiView","G2"],"sourceRoot":""}